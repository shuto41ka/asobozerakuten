var RT=function(){function t(t,e){return!t.hasOwnProperty(e)}function e(t){for(var e=Object.keys(t),n=0,r=e.length,o={};n<r;++n){var s=e[n],a=t[s];'true'===a||a===!0?o[s]=!0:'false'===a||a===!1?o[s]=!1:isFinite(a)&&null!==a?o[s]=parseInt(a):o[s]=a}return o}function n(t){return document.createElement(t)}function r(t,e){function n(){}n.prototype=e.prototype,t.superClass_=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t){var e=t.match(/([\uD800-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]([\u180B-\u180D]|[\uFE00-\uFE0F]|(\uDB40[\uD000-\uDFFF]))?)|([^\uD800-\uDBFF\uDC00-\uDFFF]([\u180B-\u180D]|[\uFE00-\uFE0F]|(\uDB40[\uD000-\uDFFF]))?)/g);return null===e?[]:e}function s(t){const e=/([\uD800-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]([\u180B-\u180D]|[\uFE00-\uFE0F]|(\uDB40[\uD000-\uDFFF])))|([^\uD800-\uDBFF\uDC00-\uDFFF]([\u180B-\u180D]|[\uFE00-\uFE0F]|(\uDB40[\uD000-\uDFFF])))/.exec(t);return null===e||0===e.length?{base:t.codePointAt(0),vs:null}:'undefined'!=typeof e[1]&&'undefined'!=typeof e[2]?{base:e[1].codePointAt(0),vs:e[2].codePointAt(0)}:{base:e[4].codePointAt(0),vs:e[5].codePointAt(0)}}function a(t){var e=[],n=[];for(var r in t)e.push(r),n.push(t[r]);return{keys:e,values:n}}function i(t){return t.currentStyle||document.defaultView.getComputedStyle(t,'')}function u(t,e){return'uppercase'===t?e.toLocaleUpperCase():'lowercase'===t?e.toLocaleLowerCase():e}function f(t){var e=[],n=[],r=i(t).textTransform;if('INPUT'===t.tagName||'TEXTAREA'===t.tagName){var o=t.value,s=t.placeholder;'undefined'!=typeof s&&(o+=s),e.push(u(r,o))}else for(var a=t.childNodes.length,f=0;f<a;f+=1){var h=t.childNodes[f];3===h.nodeType?e.push(u(r,h.nodeValue)):1===h.nodeType&&'SCRIPT'!==h.tagName&&n.push(h)}return{selfText:e.join(''),elementNodes:n}}function h(t){var e=[''locl' 1',''calt' 1',''ccmp' 1',''liga' 1'],e=[''locl-calt-ccmp-liga' 1'],n=i(t);('all'===n.textCombineUpright||'all'===n.msTextCombineHorizontal||n.webkitTextCombine)&&e.push(''hwid-fwid-twid-qwid''),'vertical-rl'!==n.writingMode&&'tb-rl'!==n.writingMode&&'vertical-rl'!==n.webkitWritingMode||(e.push(''vert' 1'),e.push(''vrt2' 1'));var r=n.fontFeatureSettings||n.webkitFontFeatureSettings||'',o=r.split(',');e=e.concat(o);var s=U(n.fontFamily);return{props:e,fonts:s}}function l(t){for(var e,n,r,o,s=t.length,a=0,i=[];a<s;){do e=H[255&t.charCodeAt(a)],a=a+1|0;while(a<s&&e===-1);if(e===-1)break;do n=H[255&t.charCodeAt(a)],a=a+1|0;while(a<s&&n===-1);if(n===-1)break;i.push(e<<2|(48&n)>>4);do{if(r=255&t.charCodeAt(a),a=a+1|0,61===r)return i;r=H[r]}while(a<s&&r===-1);if(r===-1)break;i.push((15&n)<<4|(60&r)>>2);do{if(o=255&t.charCodeAt(a),a=a+1|0,61===o)return i;o=H[o]}while(a<s&&o===-1);if(o===-1)break;i.push((3&r)<<6|o)}return i}function c(t){var e,n,r={},o=[];for(e=0;e<t.length;e=e+1|0)n=t[e],n in r||(r[n]=!0,o.push(n));return o}function p(t,e){return q(c(e).concat(K(e,t)))}function g(t,e,n){var r=0,o=a(e),s=o.keys.length,i=function(e){if(r<s){var a=t.put({mykey:o.keys[r],myvalue:o.values[r]});r++,a.onsuccess=i,a.onerror=function(t){console.log(t)}}else n()};i()}function d(t,e,n){var r=0,o=e.length,s=null,a={},i=null,u=function(f){f&&null!=i&&(f.target.result?a[f.target.result.mykey]=f.target.result.myvalue:a[i]=void 0),r<o?(i=e[r++],s=t.get(i),s.onsuccess=u):n(a)};u()}function v(t){for(var e={},n=document.scripts[document.scripts.length-1],r=n.attributes,o=r.length,s=new RegExp('^data-'+t+'-(.*)'),a='',i=0;i<o;i+=1){var u=r[i].name,f=r[i].value;u.search(s)!==-1&&(e[RegExp.$1]=f),'src'===u&&(a=f)}return{params:e,src:a}}function C(t,e){for(var n={},r=t.split('?'),o=r[r.length-1],s=o.split('&'),a=new RegExp('^'+e+'-(.*)'),i=s.length,u=0;u<i;u++){var f=s[u].split('=');f[0].search(a)!==-1&&(n[RegExp.$1]=f[1])}return n}function y(t){var e=[];for(var n in t)!function(t,n){e.push(axios.get([ae,'api',n,'data','v4'].join('/'),{timeout:1e4,params:{user_key:ie,url:ue}}).then(function(e){var n={};return n[t]=e.data,n}))}(n,t[n]);return e}function m(t){for(var e={},n=t.length,r=0;r<n;r++){var o=t[r];if('inherit'in o){var s=o.inherit,a=s.rsrc;a in e||(e[a]=[]),e[a].push(s.GID)}}return e}function _(t,e){var n=[];for(var r in e)!function(r){n.push(axios.post([ae,'api',t[r],'glyf','v1'].join('/'),L({payload:JSON.stringify({GID:e[r]})}),{timeout:1e4,params:{user_key:ie,url:ue}}).then(function(t){var e={};return e[r]=t.data,e}))}(r);return n}function D(t,e,n){var r='';if('TT'===e.tag.FONT_TYPE){var o=new re;o.data=l(t.pack),o.D(null),r=o.getPath()}else if('OT'===e.tag.FONT_TYPE){var o=new De;o.data=l(t.pack);var s=o.getType2Charstring(t.AW,parseInt(e.tag.OT_DEFAULT_WIDTH_X));r=o.getPath(s).join(' ')}else if('CID'===e.tag.FONT_TYPE){var o=new De;o.data=l(t.pack);var s=o.getType2Charstring(t.AW,parseInt(e.cluster[t.cluster].OT_DEFAULT_WIDTH_X));r=o.getPath(s).join(' ')}var a=parseInt(e.tag.EM_SIZE);return a!==n&&''!==r&&(r=pathScale(r,n/a)),r}function w(t,e,n,r){for(var o=t.length,s=0;s<o;s++){var a=t[s];if('inherit'in a){var i=a.inherit,u=i.rsrc,f=i.GID,h=e[u].GID[f];'hMetrics'in a||(a.hMetrics={advanceWidth:h.AW,leftSideBearing:h.LSB}),'vMetrics'in a||(a.vMetrics={advanceHeight:h.AH?h.AH:0,topSideBearing:h.TSB?h.TSB:0}),'glyph'in a||(a.glyph={}),'path'in a.glyph||(a.glyph.path=D(h,n[u],r))}}}function b(t){return new Promise(function(e,n){var r=t[0],o=t[1],s=m(o.glyphs),a=_(o.resource,s);Promise.all(a).then(function(t){var e={};return t.map(function(t){Object.assign(e,t)}),e}).then(function(t){w(o.glyphs,t,r,parseInt(o.tagging.EM_SIZE)),e()})})}function S(t){var e=n('a'),r=n('img');r.src='https://s3-ap-northeast-1.amazonaws.com/www.realtype.jp/realtype_logo.svg',e.style.position='fixed',e.style.right=0,e.style.bottom=0,e.style.zIndex=4294967295,e.target='_blank',e.href='https://www.realtype.jp/?userkey='+t+'&from=freeplan',e.appendChild(r),document.body.appendChild(e)}'undefined'==typeof Promise&&(Promise=function(){function t(t){return'function'==typeof t||'object'==typeof t&&null!==t}function e(t){return'function'==typeof t}function n(t){j=t}function r(t){q=t}function o(){return function(){return process.nextTick(f)}}function s(){return'undefined'!=typeof $?function(){$(f)}:u()}function a(){var t=0,e=new z(f),n=document.createTextNode('');return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function i(){var t=new MessageChannel;return t.port1.onmessage=f,function(){return t.port2.postMessage(0)}}function u(){var t=setTimeout;return function(){return t(f,1)}}function f(){for(var t=0;t<H;t+=2){var e=J[t],n=J[t+1];e(n),J[t]=void 0,J[t+1]=void 0}H=0}function h(){try{var t=require,e=t('vertx');return $=e.runOnLoop||e.runOnContext,s()}catch(t){return u()}}function l(t,e){var n=arguments,r=this,o=new this.constructor(p);void 0===o[tt]&&M(o);var s=r._state;return s?!function(){var t=n[s-1];q(function(){return E(s,o,t,r._result)})}():T(r,o,t,e),o}function c(t){var e=this;if(t&&'object'==typeof t&&t.constructor===e)return t;var n=new e(p);return D(n,t),n}function p(){}function g(){return new TypeError('You cannot resolve a promise with itself')}function d(){return new TypeError('A promises callback cannot return that same promise.')}function v(t){try{return t.then}catch(t){return ot.error=t,ot}}function C(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function y(t,e,n){q(function(t){var r=!1,o=C(n,e,function(n){r||(r=!0,e!==n?D(t,n):b(t,n))},function(e){r||(r=!0,S(t,e))},'Settle: '+(t._label||' unknown promise'));!r&&o&&(r=!0,S(t,o))},t)}function m(t,e){e._state===nt?b(t,e._result):e._state===rt?S(t,e._result):T(e,void 0,function(e){return D(t,e)},function(e){return S(t,e)})}function _(t,n,r){n.constructor===t.constructor&&r===l&&n.constructor.resolve===c?m(t,n):r===ot?S(t,ot.error):void 0===r?b(t,n):e(r)?y(t,n,r):b(t,n)}function D(e,n){e===n?S(e,g()):t(n)?_(e,n,v(n)):b(e,n)}function w(t){t._onerror&&t._onerror(t._result),I(t)}function b(t,e){t._state===et&&(t._result=e,t._state=nt,0!==t._subscribers.length&&q(I,t))}function S(t,e){t._state===et&&(t._state=rt,t._result=e,q(w,t))}function T(t,e,n,r){var o=t._subscribers,s=o.length;t._onerror=null,o[s]=e,o[s+nt]=n,o[s+rt]=r,0===s&&t._state&&q(I,t)}function I(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,s=t._result,a=0;a<e.length;a+=3)r=e[a],o=e[a+n],r?E(n,r,o,s):o(s);t._subscribers.length=0}}function R(){this.error=null}function F(t,e){try{return t(e)}catch(t){return st.error=t,st}}function E(t,n,r,o){var s=e(r),a=void 0,i=void 0,u=void 0,f=void 0;if(s){if(a=F(r,o),a===st?(f=!0,i=a.error,a=null):u=!0,n===a)return void S(n,d())}else a=o,u=!0;n._state!==et||(s&&u?D(n,a):f?S(n,i):t===nt?b(n,a):t===rt&&S(n,a))}function k(t,e){try{e(function(e){D(t,e)},function(e){S(t,e)})}catch(e){S(t,e)}}function A(){return at++}function M(t){t[tt]=at++,t._state=void 0,t._result=void 0,t._subscribers=[]}function L(t,e){this._instanceConstructor=t,this.promise=new t(p),this.promise[tt]||M(this.promise),U(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?b(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&b(this.promise,this._result))):S(this.promise,O())}function O(){return new Error('Array Methods must be provided an Array')}function x(t){return new L(this,t).promise}function N(t){var e=this;return new e(U(t)?function(n,r){for(var o=t.length,s=0;s<o;s++)e.resolve(t[s]).then(n,r)}:function(t,e){return e(new TypeError('You must pass an array to race.'))})}function G(t){var e=this,n=new e(p);return S(n,t),n}function P(){throw new TypeError('You must pass a resolver function as the first argument to the promise constructor')}function B(){throw new TypeError('Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.')}function V(t){this[tt]=A(),this._result=this._state=void 0,this._subscribers=[],p!==t&&('function'!=typeof t&&P(),this instanceof V?k(this,t):B())}var X=void 0;X=Array.isArray?Array.isArray:function(t){return'[object Array]'===Object.prototype.toString.call(t)};var U=X,H=0,$=void 0,j=void 0,q=function(t,e){J[H]=t,J[H+1]=e,H+=2,2===H&&(j?j(f):Q())},W='undefined'!=typeof window?window:void 0,K=W||{},z=K.MutationObserver||K.WebKitMutationObserver,Y='undefined'==typeof self&&'undefined'!=typeof process&&'[object process]'==={}.toString.call(process),Z='undefined'!=typeof Uint8ClampedArray&&'undefined'!=typeof importScripts&&'undefined'!=typeof MessageChannel,J=new Array(1e3),Q=void 0;Q=Y?o():z?a():Z?i():void 0===W&&'function'==typeof require?h():u();var tt=Math.random().toString(36).substring(16),et=void 0,nt=1,rt=2,ot=new R,st=new R,at=0;return L.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===et&&n<t;n++)this._eachEntry(e[n],n)},L.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===c){var o=v(t);if(o===l&&t._state!==et)this._settledAt(t._state,e,t._result);else if('function'!=typeof o)this._remaining--,this._result[e]=t;else if(n===V){var s=new n(p);_(s,t,o),this._willSettleAt(s,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},L.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===et&&(this._remaining--,t===rt?S(r,n):this._result[e]=n),0===this._remaining&&b(r,this._result)},L.prototype._willSettleAt=function(t,e){var n=this;T(t,void 0,function(t){return n._settledAt(nt,e,t)},function(t){return n._settledAt(rt,e,t)})},V.all=x,V.race=N,V.resolve=c,V.reject=G,V._setScheduler=n,V._setAsap=r,V._asap=q,V.prototype={constructor:V,then:l,catch:function(t){return this.then(null,t)}},V.Promise=V,V}());var T=null;T='function'!=typeof Object.assign?function(t){if(void 0===t||null===t)throw new TypeError('xx');for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}:Object.assign,String.prototype.codePointAt||!function(){'use strict';var t=function(t){if(null==this)throw TypeError();var e=String(this),n=e.length,r=t?Number(t):0;if(r!=r&&(r=0),!(r<0||r>=n)){var o,s=e.charCodeAt(r);return s>=55296&&s<=56319&&n>r+1&&(o=e.charCodeAt(r+1),o>=56320&&o<=57343)?1024*(s-55296)+o-56320+65536:s}};Object.defineProperty?Object.defineProperty(String.prototype,'codePointAt',{value:t,configurable:!0,writable:!0}):String.prototype.codePointAt=t}(),String.fromCodePoint||!function(){var t=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(t){}return n}(),e=String.fromCharCode,n=Math.floor,r=function(){var t,r,o=16384,s=[],a=-1,i=arguments.length;if(!i)return'';for(var u='';++a<i;){var f=Number(arguments[a]);if(!isFinite(f)||f<0||f>1114111||n(f)!=f)throw RangeError('Invalid code point: '+f);f<=65535?s.push(f):(f-=65536,t=(f>>10)+55296,r=f%1024+56320,s.push(t,r)),(a+1==i||s.length>o)&&(u+=e.apply(null,s),s.length=0)}return u};t?t(String,'fromCodePoint',{value:r,configurable:!0,writable:!0}):String.fromCodePoint=r}(),!function(t,e){'object'==typeof exports&&'object'==typeof module?module.exports=e():'function'==typeof define&&define.amd?define([],e):'object'==typeof exports?exports.axios=e():t.axios=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p='',e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){'use strict';function r(t){var e=new a(t),n=s(a.prototype.request,e);return o.extend(n,a.prototype,e),o.extend(n,e),n}var o=n(2),s=n(3),a=n(4),i=r();i.Axios=a,i.create=function(t){return r(t)},i.Cancel=n(22),i.CancelToken=n(23),i.isCancel=n(19),i.all=function(t){return Promise.all(t)},i.spread=n(24),t.exports=i,t.exports.default=i},function(t,e,n){'use strict';function r(t){return'[object Array]'===b.call(t)}function o(t){return'[object ArrayBuffer]'===b.call(t)}function s(t){return'undefined'!=typeof FormData&&t instanceof FormData}function a(t){var e;return e='undefined'!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function i(t){return'string'==typeof t}function u(t){return'number'==typeof t}function f(t){return'undefined'==typeof t}function h(t){return null!==t&&'object'==typeof t}function l(t){return'[object Date]'===b.call(t)}function c(t){return'[object File]'===b.call(t)}function p(t){return'[object Blob]'===b.call(t)}function g(t){return'[object Function]'===b.call(t)}function d(t){return h(t)&&g(t.pipe)}function v(t){return'undefined'!=typeof URLSearchParams&&t instanceof URLSearchParams}function C(t){return t.replace(/^\s*/,'').replace(/\s*$/,'')}function y(){return'undefined'!=typeof window&&'undefined'!=typeof document&&'function'==typeof document.createElement}function m(t,e){if(null!==t&&'undefined'!=typeof t)if('object'==typeof t||r(t)||(t=[t]),r(t))for(var n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.call(null,t[s],s,t)}function _(){function t(t,n){'object'==typeof e[n]&&'object'==typeof t?e[n]=_(e[n],t):e[n]=t}for(var e={},n=0,r=arguments.length;n<r;n++)m(arguments[n],t);return e}function D(t,e,n){return m(e,function(e,r){n&&'function'==typeof e?t[r]=w(e,n):t[r]=e}),t}var w=n(3),b=Object.prototype.toString;t.exports={isArray:r,isArrayBuffer:o,isFormData:s,isArrayBufferView:a,isString:i,isNumber:u,isObject:h,isUndefined:f,isDate:l,isFile:c,isBlob:p,isFunction:g,isStream:d,isURLSearchParams:v,isStandardBrowserEnv:y,forEach:m,merge:_,extend:D,trim:C}},function(t,e){'use strict';t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){'use strict';function r(t){this.defaults=s.merge(o,t),this.interceptors={request:new a,response:new a}}var o=n(5),s=n(2),a=n(16),i=n(17),u=n(20),f=n(21);r.prototype.request=function(t){'string'==typeof t&&(t=s.merge({url:arguments[0]},arguments[1])),t=s.merge(o,this.defaults,{method:'get'},t),t.baseURL&&!u(t.url)&&(t.url=f(t.baseURL,t.url));var e=[i,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},s.forEach(['delete','get','head'],function(t){r.prototype[t]=function(e,n){return this.request(s.merge(n||{},{method:t,url:e}))}}),s.forEach(['post','put','patch'],function(t){r.prototype[t]=function(e,n,r){return this.request(s.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=r},function(t,e,n){'use strict';function r(t,e){!s.isUndefined(t)&&s.isUndefined(t['Content-Type'])&&(t['Content-Type']=e)}function o(){var t;return'undefined'!=typeof XMLHttpRequest?t=n(7):'undefined'!=typeof process&&(t=n(7)),t}var s=n(2),a=n(6),i=/^\)\]\}',?\n/,u={'Content-Type':'application/x-www-form-urlencoded'};t.exports={adapter:o(),transformRequest:[function(t,e){return a(e,'Content-Type'),s.isFormData(t)||s.isArrayBuffer(t)||s.isStream(t)||s.isFile(t)||s.isBlob(t)?t:s.isArrayBufferView(t)?t.buffer:s.isURLSearchParams(t)?(r(e,'application/x-www-form-urlencoded;charset=utf-8'),t.toString()):s.isObject(t)?(r(e,'application/json;charset=utf-8'),JSON.stringify(t)):t}],transformResponse:[function(t){if('string'==typeof t){t=t.replace(i,'');try{t=JSON.parse(t)}catch(t){}}return t}],headers:{common:{Accept:'application/json, text/plain, */*'},patch:s.merge(u),post:s.merge(u),put:s.merge(u)},timeout:0,xsrfCookieName:'XSRF-TOKEN',xsrfHeaderName:'X-XSRF-TOKEN',maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}}},function(t,e,n){'use strict';var r=n(2);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){'use strict';var r=n(2),o=n(8),s=n(11),a=n(12),i=n(13),u=n(9),f='undefined'!=typeof window&&window.btoa||n(14);t.exports=function(t){return new Promise(function(e,h){var l=t.data,c=t.headers;r.isFormData(l)&&delete c['Content-Type'];var p=new XMLHttpRequest,g='onreadystatechange',d=!1;if('undefined'==typeof window||!window.XDomainRequest||'withCredentials'in p||i(t.url)||(p=new window.XDomainRequest,g='onload',d=!0,p.onprogress=function(){},p.ontimeout=function(){}),t.auth){var v=t.auth.username||'',C=t.auth.password||'';c.Authorization='Basic '+f(v+':'+C)}if(p.open(t.method.toUpperCase(),s(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p[g]=function(){if(p&&(4===p.readyState||d)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf('file:'))){var n='getAllResponseHeaders'in p?a(p.getAllResponseHeaders()):null,r=t.responseType&&'text'!==t.responseType?p.response:p.responseText,s={data:r,status:1223===p.status?204:p.status,statusText:1223===p.status?'No Content':p.statusText,headers:n,config:t,request:p};o(e,h,s),p=null}},p.onerror=function(){h(u('Network Error',t)),p=null},p.ontimeout=function(){h(u('timeout of '+t.timeout+'ms exceeded',t,'ECONNABORTED')),p=null},r.isStandardBrowserEnv()){var y=n(15),m=(t.withCredentials||i(t.url))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;m&&(c[t.xsrfHeaderName]=m)}if('setRequestHeader'in p&&r.forEach(c,function(t,e){'undefined'==typeof l&&'content-type'===e.toLowerCase()?delete c[e]:p.setRequestHeader(e,t)}),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(t){if('json'!==p.responseType)throw t}'function'==typeof t.onDownloadProgress&&p.addEventListener('progress',t.onDownloadProgress),'function'==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener('progress',t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),h(t),p=null)}),void 0===l&&(l=null),p.send(l)})}},function(t,e,n){'use strict';var r=n(9);t.exports=function(t,e,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(r('Request failed with status code '+n.status,n.config,null,n)):t(n)}},function(t,e,n){'use strict';var r=n(10);t.exports=function(t,e,n,o){var s=new Error(t);return r(s,e,n,o)}},function(t,e){'use strict';t.exports=function(t,e,n,r){return t.config=e,n&&(t.code=n),t.response=r,t}},function(t,e,n){'use strict';function r(t){return encodeURIComponent(t).replace(/%40/gi,'@').replace(/%3A/gi,':').replace(/%24/g,'$').replace(/%2C/gi,',').replace(/%20/g,'+').replace(/%5B/gi,'[').replace(/%5D/gi,']')}var o=n(2);t.exports=function(t,e,n){if(!e)return t;var s;if(n)s=n(e);else if(o.isURLSearchParams(e))s=e.toString();else{var a=[];o.forEach(e,function(t,e){null!==t&&'undefined'!=typeof t&&(o.isArray(t)&&(e+='[]'),o.isArray(t)||(t=[t]),o.forEach(t,function(t){o.isDate(t)?t=t.toISOString():o.isObject(t)&&(t=JSON.stringify(t)),a.push(r(e)+'='+r(t))}))}),s=a.join('&')}return s&&(t+=(t.indexOf('?')===-1?'?':'&')+s),t}},function(t,e,n){'use strict';var r=n(2);t.exports=function(t){var e,n,o,s={};return t?(r.forEach(t.split('\n'),function(t){o=t.indexOf(':'),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e&&(s[e]=s[e]?s[e]+', '+n:n)}),s):s}},function(t,e,n){'use strict';var r=n(2);t.exports=r.isStandardBrowserEnv()?function(){function t(t){var e=t;return n&&(o.setAttribute('href',e),e=o.href),o.setAttribute('href',e),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,''):'',host:o.host,search:o.search?o.search.replace(/^\?/,''):'',hash:o.hash?o.hash.replace(/^#/,''):'',hostname:o.hostname,port:o.port,pathname:'/'===o.pathname.charAt(0)?o.pathname:'/'+o.pathname}}var e,n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement('a');return e=t(window.location.href),function(n){var o=r.isString(n)?t(n):n;return o.protocol===e.protocol&&o.host===e.host}}():function(){return function(){return!0}}()},function(t,e){'use strict';function n(){this.message='String contains an invalid character'}function r(t){for(var e,r,s=String(t),a='',i=0,u=o;s.charAt(0|i)||(u='=',i%1);a+=u.charAt(63&e>>8-i%1*8)){if(r=s.charCodeAt(i+=.75),r>255)throw new n;e=e<<8|r}return a}var o='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';n.prototype=new Error,n.prototype.code=5,n.prototype.name='InvalidCharacterError',t.exports=r},function(t,e,n){'use strict';var r=n(2);t.exports=r.isStandardBrowserEnv()?function(){return{write:function(t,e,n,o,s,a){var i=[];i.push(t+'='+encodeURIComponent(e)),r.isNumber(n)&&i.push('expires='+new Date(n).toGMTString()),r.isString(o)&&i.push('path='+o),r.isString(s)&&i.push('domain='+s),a===!0&&i.push('secure'),document.cookie=i.join('; ')},read:function(t){var e=document.cookie.match(new RegExp('(^|;\\s*)('+t+')=([^;]*)'));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,'',Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(t,e,n){'use strict';function r(){this.handlers=[]}var o=n(2);r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){o.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=r},function(t,e,n){'use strict';function r(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var o=n(2),s=n(18),a=n(19),i=n(5);t.exports=function(t){r(t),t.headers=t.headers||{},t.data=s(t.data,t.headers,t.transformRequest),t.headers=o.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),o.forEach(['delete','get','head','post','put','patch','common'],function(e){delete t.headers[e]});var e=t.adapter||i.adapter;return e(t).then(function(e){return r(t),e.data=s(e.data,e.headers,t.transformResponse),e},function(e){return a(e)||(r(t),e&&e.response&&(e.response.data=s(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){'use strict';var r=n(2);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e){'use strict';t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e){'use strict';t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e){'use strict';t.exports=function(t,e){return t.replace(/\/+$/,'')+'/'+e.replace(/^\/+/,'')}},function(t,e){'use strict';function n(t){this.message=t}n.prototype.toString=function(){return'Cancel'+(this.message?': '+this.message:'')},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,n){'use strict';function r(t){if('function'!=typeof t)throw new TypeError('executor must be a function.');var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new o(t),e(n.reason))})}var o=n(22);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t,e=new r(function(e){t=e});return{token:e,cancel:t}},t.exports=r},function(t,e){'use strict';t.exports=function(t){return function(e){return t.apply(null,e)}}}])}),!function(t){'use strict';function e(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}function n(t,e){return t<<e|t>>>32-e}function r(t,r,o,s,a,i){return e(n(e(e(r,t),e(s,i)),a),o)}function o(t,e,n,o,s,a,i){return r(e&n|~e&o,t,e,s,a,i)}function s(t,e,n,o,s,a,i){return r(e&o|n&~o,t,e,s,a,i)}function a(t,e,n,o,s,a,i){return r(e^n^o,t,e,s,a,i)}function i(t,e,n,o,s,a,i){return r(n^(e|~o),t,e,s,a,i)}function u(t,n){t[n>>5]|=128<<n%32,t[(n+64>>>9<<4)+14]=n;var r,u,f,h,l,c=1732584193,p=-271733879,g=-1732584194,d=271733878;for(r=0;r<t.length;r+=16)u=c,f=p,h=g,l=d,c=o(c,p,g,d,t[r],7,-680876936),d=o(d,c,p,g,t[r+1],12,-389564586),g=o(g,d,c,p,t[r+2],17,606105819),p=o(p,g,d,c,t[r+3],22,-1044525330),c=o(c,p,g,d,t[r+4],7,-176418897),d=o(d,c,p,g,t[r+5],12,1200080426),g=o(g,d,c,p,t[r+6],17,-1473231341),p=o(p,g,d,c,t[r+7],22,-45705983),c=o(c,p,g,d,t[r+8],7,1770035416),d=o(d,c,p,g,t[r+9],12,-1958414417),g=o(g,d,c,p,t[r+10],17,-42063),p=o(p,g,d,c,t[r+11],22,-1990404162),c=o(c,p,g,d,t[r+12],7,1804603682),d=o(d,c,p,g,t[r+13],12,-40341101),g=o(g,d,c,p,t[r+14],17,-1502002290),p=o(p,g,d,c,t[r+15],22,1236535329),c=s(c,p,g,d,t[r+1],5,-165796510),d=s(d,c,p,g,t[r+6],9,-1069501632),g=s(g,d,c,p,t[r+11],14,643717713),p=s(p,g,d,c,t[r],20,-373897302),c=s(c,p,g,d,t[r+5],5,-701558691),d=s(d,c,p,g,t[r+10],9,38016083),g=s(g,d,c,p,t[r+15],14,-660478335),p=s(p,g,d,c,t[r+4],20,-405537848),c=s(c,p,g,d,t[r+9],5,568446438),d=s(d,c,p,g,t[r+14],9,-1019803690),g=s(g,d,c,p,t[r+3],14,-187363961),p=s(p,g,d,c,t[r+8],20,1163531501),c=s(c,p,g,d,t[r+13],5,-1444681467),d=s(d,c,p,g,t[r+2],9,-51403784),g=s(g,d,c,p,t[r+7],14,1735328473),p=s(p,g,d,c,t[r+12],20,-1926607734),c=a(c,p,g,d,t[r+5],4,-378558),d=a(d,c,p,g,t[r+8],11,-2022574463),g=a(g,d,c,p,t[r+11],16,1839030562),p=a(p,g,d,c,t[r+14],23,-35309556),c=a(c,p,g,d,t[r+1],4,-1530992060),d=a(d,c,p,g,t[r+4],11,1272893353),g=a(g,d,c,p,t[r+7],16,-155497632),p=a(p,g,d,c,t[r+10],23,-1094730640),c=a(c,p,g,d,t[r+13],4,681279174),d=a(d,c,p,g,t[r],11,-358537222),g=a(g,d,c,p,t[r+3],16,-722521979),p=a(p,g,d,c,t[r+6],23,76029189),c=a(c,p,g,d,t[r+9],4,-640364487),d=a(d,c,p,g,t[r+12],11,-421815835),g=a(g,d,c,p,t[r+15],16,530742520),p=a(p,g,d,c,t[r+2],23,-995338651),c=i(c,p,g,d,t[r],6,-198630844),d=i(d,c,p,g,t[r+7],10,1126891415),g=i(g,d,c,p,t[r+14],15,-1416354905),p=i(p,g,d,c,t[r+5],21,-57434055),c=i(c,p,g,d,t[r+12],6,1700485571),d=i(d,c,p,g,t[r+3],10,-1894986606),g=i(g,d,c,p,t[r+10],15,-1051523),p=i(p,g,d,c,t[r+1],21,-2054922799),c=i(c,p,g,d,t[r+8],6,1873313359),d=i(d,c,p,g,t[r+15],10,-30611744),g=i(g,d,c,p,t[r+6],15,-1560198380),p=i(p,g,d,c,t[r+13],21,1309151649),c=i(c,p,g,d,t[r+4],6,-145523070),d=i(d,c,p,g,t[r+11],10,-1120210379),g=i(g,d,c,p,t[r+2],15,718787259),p=i(p,g,d,c,t[r+9],21,-343485551),c=e(c,u),p=e(p,f),g=e(g,h),d=e(d,l);return[c,p,g,d]}function f(t){var e,n='',r=32*t.length;for(e=0;e<r;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function h(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var r=8*t.length;for(e=0;e<r;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function l(t){return f(u(h(t),8*t.length))}function c(t,e){var n,r,o=h(t),s=[],a=[];for(s[15]=a[15]=void 0,o.length>16&&(o=u(o,8*t.length)),n=0;n<16;n+=1)s[n]=909522486^o[n],a[n]=1549556828^o[n];return r=u(s.concat(h(e)),512+8*e.length),f(u(a.concat(r),640))}function p(t){var e,n,r='0123456789abcdef',o='';for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),o+=r.charAt(e>>>4&15)+r.charAt(15&e);return o}function g(t){return unescape(encodeURIComponent(t))}function d(t){return l(g(t))}function v(t){return p(d(t))}function C(t,e){return c(g(t),g(e))}function y(t,e){return p(C(t,e))}function m(t,e,n){return e?n?C(e,t):y(e,t):n?d(t):v(t)}'function'==typeof define&&define.amd?define(function(){return m}):'object'==typeof module&&module.exports?module.exports=m:t.md5=m}(this);var I=function(t,e){return void 0===e&&(e=document),e.getElementsByTagName(t)},R=function(t,e,n){return t.setAttribute(e,n)},F=function(t,e){t.removeAttribute(e)},E=function(t,e,n){t.addEventListener(e,n,!1)},k=function(t,e,n){t.removeEventListener(e,n,!1)},A=function(t,e){return t.getAttribute(e)},M=function(t){switch(typeof t){case'string':return t;case'boolean':return t?'true':'false';case'number':return isFinite(t)?t:'';default:return''}},L=function(t,e,n,r){return e=e||'&',n=n||'=',null===t&&(t=void 0),'object'==typeof t?Object.keys(t).map(function(r){var o=encodeURIComponent(M(r))+n;return Array.isArray(t[r])?t[r].map(function(t){return o+encodeURIComponent(M(t))}).join(e):o+encodeURIComponent(M(t[r]))}).join(e):r?encodeURIComponent(M(r))+n+encodeURIComponent(M(t)):''},O={},x=window.navigator.userAgent.toLowerCase(),N=(x.indexOf('firefox')!==-1,x.indexOf('safari')!==-1),G=x.indexOf('chrome')!==-1,P=!1;if(x.match(/(msie|MSIE)/)||x.match(/(T|t)rident/)){var B=x.match(/((msie|MSIE)\s|rv:)([\d\.]+)/)[3];B=parseInt(B),11===B&&(P=!0)}var V=function(t,e,n,r){void 0===n&&(n='URL');var o;switch(n){case'base64':o='data:application/octet-stream;base64,'+t;break;case'URL':default:o=t}var s=e.replace(/['']/g,'\\$&');if('number'==typeof r&&(G||N)){var a=s='D'+e.substr(1),i=document.createElement('span');i.innerHTML='.',i.setAttribute('data-rt-ignore',!0),i.style.fontFamily='''+a+''',i.style.position='absolute',i.style.top='0px',i.style.left='0px',i.style.opacity='0',document.body.appendChild(i),setTimeout(function(){V(t,e,n)},r)}var u;return s in O?u=O[s]:(u=document.createElement('style'),O[s]=u),document.head.appendChild(u),u.textContent='@font-face{\n  font-family:''+s+'';\n  src: url(''+o+'');\n  font-display: block;\n}',u},X=new Promise(function(t){function e(){t(),k(n,s,e),k(r,o,e)}var n=document,r=window,o='load',s='DOMContentLoaded';'complete'===n.readyState?t():(E(n,s,e),E(r,o,e))}),U=function(t){for(var e='',n=[],r=0;;r+=1){var o=t.charAt(r);if(''===o)break;if('''===o||'''===o){var s=r+1;do if(s=t.indexOf(o,s)+1,!s)break;while('\\'===t.charAt(s-2));n.push(t.slice(r+1,s-1).replace(/\\('|')/g,'$1')),r=s-1,e=''}else','===o?/^\s*$/.test(e)||(n.push(e.replace(/^\s+|\s+$/,'').replace(/\s+/g,' ')),e=''):e+=o}return/^\s*$/.test(e)||n.push(e.replace(/^\s+|\s+$/,'').replace(/\s+/g,' ')),n},H=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],$='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',j=function(t){var e,n,r,o,s,a;for(r=t.length,n=0,e='';n<r;){if(o=255&t[n],n=n+1|0,n==r){e+=$.charAt(o>>2),e+=$.charAt((3&o)<<4),e+='==';break}if(s=t[n],n=n+1|0,n==r){e+=$.charAt(o>>2),e+=$.charAt((3&o)<<4|(240&s)>>4),e+=$.charAt((15&s)<<2),e+='=';break}a=t[n],n=n+1|0,e+=$.charAt(o>>2),e+=$.charAt((3&o)<<4|(240&s)>>4),e+=$.charAt((15&s)<<2|(192&a)>>6),e+=$.charAt(63&a)}return e},q=function(t){var e,n,r={},o={};for(e=0;e<t.length;e=e+1|0)n=t[e],n in r?delete o[n]:(r[n]=!0,o[n]=n);var s=[];for(e in o)s.push(o[e]);
return s},W=function(t){var e,n,r={},o=[],s=[];for(e=0;e<t.length;e=e+1|0)n=t[e],n in r?s.push(n):(r[n]=!0,o.push(n));return s},K=function(t,e){var n=c(t),r=c(e),o=n.concat(r);return W(o)},z=function(){var t=null,e=window.indexedDB||window.mozIndexedDB||window.msIndexedDB;return function(n){if(null!==t){var r=t.transaction(['mystore'],'readwrite'),o=r.objectStore('mystore');n(o)}else if(null!==e){var s=e.open('mydb',1);s.onerror=function(t){console.log(t)},s.onupgradeneeded=function(e){t=e.target.result;var n=t.createObjectStore('mystore',{keyPath:'mykey'});n.createIndex('myIndex','mykey')},s.onsuccess=function(e){t=e.target.result;var r=t.transaction(['mystore'],'readwrite'),o=r.objectStore('mystore');n(o)}}else console.log('INDEXed DB not support...')}}(),Y={Type:{},Table:{},DEF:{}},Z={Type:{},Table:{},DEF:{}},J=function(t,e,n){var r=function(){this._number=0,this._bytecount=e,this._endian=n,this._flag=t};return r.prototype.D=function(t){for(var e=0,n=0,r=0;r<this._bytecount;r=r+1|0)n=t.data[t.offset+this._bytecount-r-1],this._flag&&r==this._bytecount-1&&!this._endian&&(n=n>127?n-256:n),this._flag&&0==r&&this._endian&&(n=n>127?n-256:n),e+=this._endian?n<<8*(this._bytecount-1-r):n<<8*r;t.offset+=this._bytecount,this._flag||(e>>>=0),this._number=e},r.prototype.C=function(t){if(this._endian)for(var e=0;e<this._bytecount;e=e+1|0)t.data[t.offset+this._bytecount-e-1]=this._number>>>8*(this._bytecount-1-e)&255;else for(var e=0;e<this._bytecount;e=e+1|0)t.data[t.offset+this._bytecount-e-1]=this._number>>>8*e&255;t.offset+=this._bytecount},r.prototype.get=function(){return this._number},r.prototype.set=function(t){this._number=t},r.prototype.size=function(t){return this._bytecount},r},Q={},tt=function(t,e,n){var r=function(r){this.offset=new(J(t,e,n)),null!=r?this._ref=new r(arguments):this._ref=null,this._offset=null};return r.prototype.D=function(t,e,n){this.offset.D(t),n&&this.DRef(t,e)},r.prototype.DRef=function(t,e){if(0==this.offset.get())this._ref=null;else{var n=Q[e+this.offset.get()];if(null==n){var r=t.offset;t.offset=e+this.offset.get(),this._ref.D(t),t.offset=r,Q[e+this.offset]=this._ref}else this._ref=n}},r.prototype.C=function(t){this._offset=t.offset,this.offset.set(0),this.offset.C(t)},r.prototype.finalize=function(t,e){if(null!=this._ref){if(null==e&&(e=0),null==this._offset)throw'!offsetOffset';var n=t.offset;t.offset=this._offset,this.offset.set(n-e),this.offset.C(t),t.offset=n,this._ref.C(t),this._offset=null}},r.prototype.get=function(){return this.offset.get()},r.prototype.set=function(t){this.offset=t},r.prototype.getRef=function(){return this._ref},r.prototype.setRef=function(t){this._ref=t},r},et=function(t,e,n){var r=function(){this.checksum=new(J(t,e,n)),this._offset=null};return r.prototype.D=function(t){this.checksum.D(t)},r.prototype.C=function(t){this._offset=t.offset,this.checksum.set(0),this.checksum.C(t)},r.prototype.finalize=function(t,e,n,r){if(null==this._offset)throw'!offsetOffset';var o=t.offset;t.offset=this._offset;for(var s=0,a=n-e,i=0;i<a;i+=4){var u=t.data[e+i+0]<<24,f=t.data[e+i+1]<<16,h=t.data[e+i+2]<<8,l=t.data[e+i+3]<<0;s+=u|f|h|l,s=(4294967295&s)>>>0}r&&(s=2981146554-s),this.checksum.set(s),this.checksum.C(t),t.offset=o,this._offset=null},r.prototype.get=function(){return this.checksum.get()},r.prototype.set=function(t){this.checksum.set(t)},r},nt=function(t,e,n){var r=function(){this.length=new(J(t,e,n)),this._offset=null};return r.prototype.D=function(t){this.length.D(t)},r.prototype.C=function(t){this._offset=t.offset,this.length.set(0),this.length.C(t)},r.prototype.finalize=function(t,e,n){if(null==this._offset)throw'!offsetOffset';var r=t.offset;t.offset=this._offset,this.length.set(n-e),this.length.C(t),t.offset=r,this._offset=null},r.prototype.get=function(){return this.length.get()},r.prototype.set=function(t){this.length=t},r},rt=J(!1,1,!1),ot=(J(!0,1,!1),J(!1,2,!1)),st=J(!0,2,!1),at=J(!1,2,!1),it=J(!0,2,!1),ut=J(!1,4,!1),ft=J(!0,4,!1),ht=J(!1,2,!1),lt=J(!0,2,!1),ct=J(!1,3,!1),pt=J(!1,2,!1),gt=tt(!1,2,!1),dt=tt(!1,4,!1),vt=et(!1,4,!1),Ct=nt(!1,4,!1),yt=function(){this.major=new st,this.minor=new ot};yt.prototype.D=function(t){this.major.D(t),this.minor.D(t)},yt.prototype.C=function(t){this.major.C(t),this.minor.C(t)};var mt=J(!1,2,!1);mt.prototype.get=function(){for(var t=(49152&this._number)>>14,e=16383&this._number,n=t,r=8192,o=.5,s=2;s<16;s=s+1|0)e&r&&(n+=o),r>>=1,o/=2;return n},mt.prototype.set=function(t){this._number=Math.round(16384*t)};var _t=function(){this._tag='',this._bytecount=4};_t.prototype.D=function(t){for(var e='',n=0;n<this._bytecount;n=n+1|0)e+=String.fromCharCode(t.data[t.offset+n]);t.offset+=this._bytecount,this._tag=e},_t.prototype.C=function(t){for(var e=0;e<this._bytecount;e=e+1|0)t.data[t.offset+e]=this._tag.charCodeAt(e);t.offset+=this._bytecount},_t.prototype.get=function(){return this._tag},_t.prototype.set=function(t){this._tag=t};var Dt=function(){this.major=new ft,this.minor=new ut};Dt.prototype.D=function(t){this.major.D(t),this.minor.D(t)},Dt.prototype.C=function(t){this.major.C(t),this.minor.C(t)};var wt=function(){this._string=''};wt.prototype.D=function(t){var e='',n=new Y.Type.BYTE;n.D(t);for(var r=0;r<n.get();r=r+1|0)e+=String.fromCharCode(t.data[t.offset+r]);t.offset+=n.get(),this._string=e},wt.prototype.C=function(t){t.data[t.offset]=this._string.length,t.offset+=1;for(var e=0;e<this._string.length;e=e+1|0)t.data[t.offset]=this._string.charCodeAt(e),t.offset+=1},wt.prototype.get=function(){return this._string},wt.prototype.set=function(t){this._string=t};var bt=J(!1,4,!1);bt.prototype.get=function(){for(var t=(4294901760&this._number)>>16,e=65535&this._number,n=t,r=32768,o=.5,s=2;s<32;s++)e&r&&(n+=o),r>>=1,o/=2;return n},bt.prototype.set=function(t){this._number=Math.round(65536*t)};var St=function(){var t=this;t.tag=new _t,t.checkSum=new vt,t.offset=new dt,t.length=new Ct};St.prototype.C=function(t){var e=this;e.tag.C(t),e.checkSum.C(t),e.offset.C(t),e.length.C(t)};var Tt=function(t){var e=this;e.sfntVersion=new yt,e.numTables=new ot,e.searchRange=new ot,e.entrySelector=new ot,e.rangeShift=new ot,e.tableRecords=[],_TTF=null};Tt.COrder={head:100,hhea:99,maxp:98,'OS/2':97,hmtx:96,LTSH:95,VDMX:94,hdmx:93,cmap:92,fpgm:91,prep:90,cvt:89,loca:88,glyf:87,kern:86,name:85,post:84,gasp:83,PCLT:82,DSIG:0},Tt.opxs=function(t){return t in Tt.COrder?Tt.COrder[t]:5},Tt.prototype.C=function(t){for(var e=this,n=!1,r=e.tableRecords.length,o=0;o<r;o=o+1|0)if('CFF '==e.tableRecords[o].tag.get()){n=!0;break}n?(e.sfntVersion.major.set(20308),e.sfntVersion.minor.set(21583)):(e.sfntVersion.major.set(1),e.sfntVersion.minor.set(0)),e.sfntVersion.C(t);var s=1,a=0,i=e.tableRecords.length;for(e.numTables.set(i),e.numTables.C(t);2*s<=i;)s*=2,a++;e.searchRange.set(16*s),e.entrySelector.set(a),e.rangeShift.set(16*i-e.searchRange.get()),e.searchRange.C(t),e.entrySelector.C(t),e.rangeShift.C(t),e.tableRecords.sort(function(t,e){return t=t.tag.get(),e=e.tag.get(),t>e?1:t<e?-1:0});for(var o=0;o<i;o=o+1|0)e.tableRecords[o].C(t);e.tableRecords.sort(function(t,e){return t=Tt.opxs(t.tag.get()),e=Tt.opxs(e.tag.get()),t<e?1:t>e?-1:0});for(var o=0;o<i;o=o+1|0){var u=t.offset;e.tableRecords[o].offset.finalize(t);var f=t.offset;e.tableRecords[o].length.finalize(t,u,f),Y.TTF.prototype.padding(t,4),e.tableRecords[o].checkSum.finalize(t,u,f)}};var It=function(){var t=this;t.tag='head',t.tableVersionNumber=new yt,t.fontRevision=new yt,t.checkSumAdjustment=new vt,t.magicNumber=new ut,t.flags=new ot,t.unitsPerEm=new ot,t.created=new Dt,t.modified=new Dt,t.xMin=new st,t.yMin=new st,t.xMax=new st,t.yMax=new st,t.macStyle=new ot,t.lowestRecPPEM=new ot,t.fontDirectionHint=new st,t.indexToLocFormat=new st,t.glyphDataFormat=new st};It.prototype.C=function(t){var e=this;e.tableVersionNumber.C(t),e.fontRevision.C(t),e.checkSumAdjustment.C(t),e.magicNumber.C(t),e.flags.C(t),e.unitsPerEm.C(t),e.created.C(t),e.modified.C(t),e.xMin.C(t),e.yMin.C(t),e.xMax.C(t),e.yMax.C(t),e.macStyle.C(t),e.lowestRecPPEM.C(t),e.fontDirectionHint.C(t),e.indexToLocFormat.C(t),e.glyphDataFormat.C(t)},It.prototype.factory=function(t){var e=new It;e.tableVersionNumber.major.set(1),e.tableVersionNumber.minor.set(0),e.fontRevision.major.set(1),e.fontRevision.minor.set(0),e.unitsPerEm.set(parseInt(t.EM_SIZE,10)),e.magicNumber.set(1594834165),e.flags.set(3),e.lowestRecPPEM.set(parseInt(t.LOWEST_REC_SIZE,10));var n=t.R_BOUNDING_BOX.split(',');e.xMin.set(parseInt(n[0],10)),e.yMin.set(parseInt(n[1],10)),e.xMax.set(parseInt(n[2],10)),e.yMax.set(parseInt(n[3],10)),e.indexToLocFormat.set(1);var r=-parseInt(new Date('January 1, 1904 0:00:00')/1e3,10)+parseInt(new Date/1e3,10);return e.created.major.set(0),e.created.minor.set(r),e.modified.major.set(0),e.modified.minor.set(r),e.glyphDataFormat.set(0),e};var Rt=function(){var t=this;t.tag='hhea',t.tableVersionNumber=new yt,t.Ascender=new it,t.Descender=new it,t.LineGap=new it,t.advanceWidthMax=new at,t.minLeftSideBearing=new it,t.minRightSideBearing=new it,t.xMaxExtent=new it,t.caretSlopeRise=new st,t.caretSlopeRun=new st,t.caretOffset=new st,t.reserved1=new st,t.reserved2=new st,t.reserved3=new st,t.reserved4=new st,t.metricDataFormat=new st,t.numberOfHMetrics=new ot};Rt.prototype.C=function(t){var e=this;e.tableVersionNumber.C(t),e.Ascender.C(t),e.Descender.C(t),e.LineGap.C(t),e.advanceWidthMax.C(t),e.minLeftSideBearing.C(t),e.minRightSideBearing.C(t),e.xMaxExtent.C(t),e.caretSlopeRise.C(t),e.caretSlopeRun.C(t),e.caretOffset.C(t),e.reserved1.C(t),e.reserved2.C(t),e.reserved3.C(t),e.reserved4.C(t),e.metricDataFormat.C(t),e.numberOfHMetrics.C(t)},Rt.prototype.factory=function(t){var e=new Rt;return e.tableVersionNumber.major.set(1),e.tableVersionNumber.minor.set(0),e.Ascender.set(parseInt(t.ALPHABETIC_ASCENDER,10)),e.Descender.set(parseInt(t.ALPHABETIC_DESCENDER,10)),e.LineGap.set(0),e.caretSlopeRise.set(1),e.caretSlopeRun.set(0),e.caretOffset.set(0),e.advanceWidthMax.set(parseInt(t.R_ADVANCE_WIDTH_MAX,10)),e.minLeftSideBearing.set(parseInt(t.R_MIN_LEFT_SIDE_BEARING,10)),e.minRightSideBearing.set(parseInt(t.R_MIN_RIGHT_SIDE_BEARING,10)),e.xMaxExtent.set(parseInt(t.R_X_MAX_EXTENT,10)),e.metricDataFormat.set(0),e.numberOfHMetrics.set(parseInt(t.R_NUMBER_OF_METRICS_H,10)),e};var Ft=function(){var t=this;t.tag='vhea',t.Version=new yt,t.ascent=new st,t.descent=new st,t.lineGap=new st,t.advanceHeightMax=new st,t.minTopSideBearing=new st,t.minBottomSideBearing=new st,t.yMaxExtent=new st,t.caretSlopeRise=new st,t.caretSlopeRun=new st,t.caretOffset=new st,t.reserved1=new st,t.reserved2=new st,t.reserved3=new st,t.reserved4=new st,t.metricDataFormat=new st,t.numOfLongVerMetrics=new ot};Ft.prototype.C=function(t){var e=this;e.Version.C(t),e.ascent.C(t),e.descent.C(t),e.lineGap.C(t),e.advanceHeightMax.C(t),e.minTopSideBearing.C(t),e.minBottomSideBearing.C(t),e.yMaxExtent.C(t),e.caretSlopeRise.C(t),e.caretSlopeRun.C(t),e.caretOffset.C(t),e.reserved1.C(t),e.reserved2.C(t),e.reserved3.C(t),e.reserved4.C(t),e.metricDataFormat.C(t),e.numOfLongVerMetrics.C(t)},Ft.prototype.factory=function(t){var e=new Ft;return e.Version.major.set(1),e.Version.minor.set(4096),e.ascent.set(parseInt(t.V_TYPOGRAPHIC_ASCENDER)),e.descent.set(parseInt(t.V_TYPOGRAPHIC_DESCENDER)),e.lineGap.set(0),e.advanceHeightMax.set(t.R_ADVANCE_HEIGHT_MAX),e.minTopSideBearing.set(t.R_MIN_TOP_SIDE_BEARING),e.minBottomSideBearing.set(t.R_MIN_BOTTOM_SIDE_BEARING),e.yMaxExtent.set(t.R_Y_MAX_EXTENT),e.numOfLongVerMetrics.set(t.R_NUMBER_OF_METRICS_V),e};var Et=function(){var t=this;t.tag='OS/2',t.version=new ot,t.xAvgCharWidth=new st,t.usWeightClass=new ot,t.usWidthClass=new ot,t.fsType=new ot,t.ySubscriptXSize=new st,t.ySubscriptYSize=new st,t.ySubscriptXOffset=new st,t.ySubscriptYOffset=new st,t.ySuperscriptXSize=new st,t.ySuperscriptYSize=new st,t.ySuperscriptXOffset=new st,t.ySuperscriptYOffset=new st,t.yStrikeoutSize=new st,t.yStrikeoutPosition=new st,t.sFamilyClass=new st,t.panose=new Array(10);for(var e=0;e<10;e=e+1|0)t.panose[e]=new rt;t.ulUnicodeRange1=new ut,t.ulUnicodeRange2=new ut,t.ulUnicodeRange3=new ut,t.ulUnicodeRange4=new ut,t.ulCharRange=new Array(4);for(var e=0;e<4;e=e+1|0)t.ulCharRange[e]=new ut;t.achVendID=new _t,t.fsSelection=new ot,t.usFirstCharIndex=new ot,t.usLastCharIndex=new ot,t.sTypoAscender=new st,t.sTypoDescender=new st,t.sTypoLineGap=new st,t.usWinAscent=new ot,t.usWinDescent=new ot,t.ulCodePageRange1=new ut,t.ulCodePageRange2=new ut,t.sxHeight=new st,t.sCapHeight=new st,t.usDefaultChar=new ot,t.usBreakChar=new ot,t.usMaxContext=new ot,t.usLowerOpticalPointSize=new ot,t.usUpperOpticalPointSize=new ot};Et.prototype.C=function(t){var e=this;e.version.C(t),e.xAvgCharWidth.C(t),e.usWeightClass.C(t),e.usWidthClass.C(t),e.fsType.C(t),e.ySubscriptXSize.C(t),e.ySubscriptYSize.C(t),e.ySubscriptXOffset.C(t),e.ySubscriptYOffset.C(t),e.ySuperscriptXSize.C(t),e.ySuperscriptYSize.C(t),e.ySuperscriptXOffset.C(t),e.ySuperscriptYOffset.C(t),e.yStrikeoutSize.C(t),e.yStrikeoutPosition.C(t),e.sFamilyClass.C(t);for(var n=0;n<10;n=n+1|0)e.panose[n].C(t);if(0==e.version.get())for(var n=0;n<4;n=n+1|0)e.ulCharRange[n].C(t);else e.version.get()>=1&&(e.ulUnicodeRange1.C(t),e.ulUnicodeRange2.C(t),e.ulUnicodeRange3.C(t),e.ulUnicodeRange4.C(t));e.achVendID.C(t),e.fsSelection.C(t),e.usFirstCharIndex.C(t),e.usLastCharIndex.C(t),e.sTypoAscender.C(t),e.sTypoDescender.C(t),e.sTypoLineGap.C(t),e.usWinAscent.C(t),e.usWinDescent.C(t),e.version.get()>=1&&(e.ulCodePageRange1.C(t),e.ulCodePageRange2.C(t)),e.version.get()>=2&&(e.sxHeight.C(t),e.sCapHeight.C(t),e.usDefaultChar.C(t),e.usBreakChar.C(t),e.usMaxContext.C(t))},Et.prototype.factory=function(t){var e=new Et;e.version.set(3),e.fsType.set(0),e.achVendID.set(t.VENDOR_ID),e.sTypoAscender.set(parseInt(t.TYPOGRAPHIC_ASCENDER,10)),e.sTypoDescender.set(parseInt(t.TYPOGRAPHIC_DESCENDER,10)),e.sTypoLineGap.set(0),e.xAvgCharWidth.set(parseInt(t.R_X_AVG_CHARWIDTH,10));var n=parseInt(t.FONT_WIDTH,10),r=5;switch(n){case'ULTRA_CONDENSED':r=1;break;case'EXTRA_CONDENSED':r=2;break;case'CONDENSED':r=3;break;case'SEMI_CONDENSED':r=4;break;case'MEDIUM':r=5;break;case'SEMI_EXPANDED':r=6;break;case'EXPANDED':r=7;break;case'EXTRA_EXPANDED':r=8;break;case'ULTRA_EXPANDED':r=9}e.usWidthClass.set(r);var o=parseInt(t.FONT_WEIGHT,10),s=400;switch(o){case'THIN':s=100;break;case'EXTRA_LIGHT':s=200;break;case'LIGHT':s=300;break;case'NORMAL':s=400;break;case'MEDIUM':s=500;break;case'SEMI_BOLD':s=600;break;case'BOLD':s=700;break;case'EXTRA_BOLD':s=800;break;case'BLACK':s=900}e.usWeightClass.set(s),e.usWinAscent.set(parseInt(t.ALPHABETIC_ASCENDER,10)),e.usWinDescent.set(Math.abs(parseInt(t.ALPHABETIC_DESCENDER,10)));var a=t.H_SUBSCRIPT.split(',');e.ySubscriptXSize.set(parseInt(a[0],10)),e.ySubscriptYSize.set(parseInt(a[1],10)),e.ySubscriptXOffset.set(parseInt(a[2],10)),e.ySubscriptYOffset.set(parseInt(a[3],10));var i=t.H_SUPERSCRIPT.split(',');e.ySuperscriptXSize.set(parseInt(i[0],10)),e.ySuperscriptYSize.set(parseInt(i[1],10)),e.ySuperscriptXOffset.set(parseInt(i[2],10)),e.ySuperscriptYOffset.set(parseInt(i[3],10));var u=t.H_STRIKEOUT.split(',');return e.yStrikeoutSize.set(parseInt(u[0],10)),e.yStrikeoutPosition.set(parseInt(u[1],10)),e};var kt=function(){var t=this;t.tag='post',t.version=new yt,t.italicAngle=new yt,t.underlinePosition=new it,t.underlineThickness=new it,t.isFixedPitch=new ut,t.minMemType42=new ut,t.maxMemType42=new ut,t.minMemType1=new ut,t.maxMemType1=new ut,t.structs=null};kt.prototype.C=function(t){var e=this;e.version.C(t),e.italicAngle.C(t),e.underlinePosition.C(t),e.underlineThickness.C(t),e.isFixedPitch.C(t),e.minMemType42.C(t),e.maxMemType42.C(t),e.minMemType1.C(t),e.maxMemType1.C(t),2===e.version.major.get()&&e.structs.C(t)},kt.prototype.factory=function(){var t=new kt;return t.version.major.set(3),t.version.minor.set(0),t};var At=function(){var t=this;t.tag='maxp',t.tableVersionNumber=new yt,t.numGlyphs=new ot,t.maxPoints=new ot,t.maxContours=new ot,t.maxCompositePoints=new ot,t.maxCompositeContours=new ot,t.maxZones=new ot,t.maxTwilightPoints=new ot,t.maxStorage=new ot,t.maxFunctionDefs=new ot,t.maxInstructionDefs=new ot,t.maxStackElements=new ot,t.maxSizeOfInstructions=new ot,t.maxComponentElements=new ot,t.maxComponentDepth=new ot};At.prototype.C=function(t){var e=this;e.tableVersionNumber.C(t),e.numGlyphs.C(t),1===e.tableVersionNumber.major.get()&&0===e.tableVersionNumber.minor.get()&&(e.maxPoints.C(t),e.maxContours.C(t),e.maxCompositePoints.C(t),e.maxCompositeContours.C(t),e.maxZones.C(t),e.maxTwilightPoints.C(t),e.maxStorage.C(t),e.maxFunctionDefs.C(t),e.maxInstructionDefs.C(t),e.maxStackElements.C(t),e.maxSizeOfInstructions.C(t),e.maxComponentElements.C(t),e.maxComponentDepth.C(t))},At.prototype.factory=function(t){var e=new At;return e.numGlyphs.set(parseInt(t.R_NUM_GLYPHS,10)),'TT'===t.FONT_TYPE?(e.tableVersionNumber.major.set(1),e.tableVersionNumber.minor.set(0),e.maxPoints.set(parseInt(t.R_TT_MAX_POINTS,10)),e.maxContours.set(parseInt(t.R_TT_MAX_CONTOURS,10)),e.maxCompositePoints.set(parseInt(t.R_TT_MAX_COMPOSITE_POINTS,10)),e.maxCompositeContours.set(parseInt(t.R_TT_MAX_COMPOSITE_CONTOURS,10)),e.maxZones.set(parseInt(t.R_TT_MAX_ZONES,10)),e.maxTwilightPoints.set(parseInt(t.R_TT_MAX_TWILIGHT_POINTS,10)),e.maxStorage.set(parseInt(t.R_TT_MAX_STORAGE,10)),e.maxFunctionDefs.set(parseInt(t.R_TT_MAX_FUNCTION_DEFS,10)),e.maxInstructionDefs.set(parseInt(t.R_TT_MAX_INSTRUCTION_DEFS,10)),e.maxStackElements.set(parseInt(t.R_TT_MAX_STACK_ELEMENTS,10)),e.maxSizeOfInstructions.set(parseInt(t.R_TT_MAX_SIZE_OF_INSTRUCTIONS,10)),e.maxComponentElements.set(parseInt(t.R_TT_MAX_COMPONENT_ELEMENTS,10)),e.maxComponentDepth.set(parseInt(t.R_TT_MAX_COMPONENT_DEPTH,10))):(e.tableVersionNumber.major.set(0),e.tableVersionNumber.minor.set(20480)),e};var Mt=function(t){var e=this;e.tag='cvt ',e.instructions=[],e._TTF=t};Mt.prototype.C=function(t){for(var e=_this.instructions.length,n=0;n<e;n=n+1|0)_this.instructions[n].C(t)};var Lt=function(t){var e=this;e.tag='prep',e.instructions=[],e._val=[],e._TTF=t};Lt.prototype.C=function(t){for(var e=this,n=e.instructions.length,r=0;r<n;r=r+1|0)e.instructions[r].C(t)};var Ot=function(t){var e=this;e.tag='fpgm',e.instructions=[],e._val=[],e._TTF=t};Ot.prototype.C=function(t){for(var e=this,n=e.instructions.length,r=0;r<n;r=r+1|0)e.instructions[r].C(t)};var xt=function(){var t=this;t.tag='gasp',t.version=new ot,t.numRanges=new ot,t.gaspRange=null};xt.prototype.C=function(t){var e=this;e.version.C(t),e.numRanges.C(t);for(var n=0;n<e.numRanges.get();n=n+1|0)e.gaspRange[n].C(t)},xt.prototype.factory=function(){var t=new xt;t.version.set(0),t.numRanges.set(1);var e=new Nt;return e.rangeMaxPPEM.set(65535),e.rangeGaspBehavior.set(1),t.gaspRange=[],t.gaspRange.push(e),t};var Nt=function(){var t=this;t.rangeMaxPPEM=new ot,t.rangeGaspBehavior=new ot};Nt.prototype.C=function(t){var e=this;e.rangeMaxPPEM.C(t),e.rangeGaspBehavior.C(t)};var Gt=function(t){var e=this;e.tag='hmtx',e.hMetrics=[],e.leftSideBearings=[],e._TTF=t};Gt.prototype.C=function(t){for(var e=this,n=e.hMetrics.length,r=0;r<n;r=r+1|0)e.hMetrics[r].C(t);n=e.leftSideBearings.length;for(var r=0;r<n;r=r+1|0)e.leftSideBearings[r].C(t)},Gt.prototype.factory=function(t,e,n){for(var r=0,o=[],s=new Gt,a=parseInt(t.R_NUM_GLYPHS,10),i=0;i<a;i+=1){var u=t.OPTIMIZE?e[n.T[i]]:e[i];'undefined'==typeof u?o.push([0,0]):o.push([u.AW,u.LSB])}for(var f=o[o.length-1][0],h=o.length;o[h-2][0]===f;)if(h-=1,h<=1){h=1;break}r=h;for(var l=0;l<h;l+=1)s.hMetrics[l]=new Pt,'undefined'==typeof o[l]||null===o[l]?(s.hMetrics[l].advanceWidth.set(0),s.hMetrics[l].lsb.set(0)):(s.hMetrics[l].advanceWidth.set(o[l][0]),s.hMetrics[l].lsb.set(o[l][1]));for(var l=h;l<o.length;l+=1){var c=s.leftSideBearings[l-h]=new st;c.set(o[l][1])}return t.R_NUMBER_OF_METRICS_H=s.hMetrics.length,s};var Pt=function(){var t=this;t.advanceWidth=new ot,t.lsb=new st};Pt.prototype.C=function(t){var e=this;e.advanceWidth.C(t),e.lsb.C(t)};var Bt=function(t){var e=this;e.tag='loca',e.offsets=[],e._TTF=t};Bt.prototype.C=function(t){for(var e=this,n=e.offsets.length,r=0;r<n;r=r+1|0)e.offsets[r].C(t)};var Vt=function(){var t=this;t.tag='name',t.format=new ot,t.count=new ot,t.stringOffset=new ot,t.nameRecords=null,t.langTagCount=new ot,t.langTagRecord=null,t.stringData=null};Vt.prototype.C=function(t){var e=this;e.format.C(t),e.count.C(t),e.stringOffset.C(t);for(var n=e.nameRecords.length,r=0;r<n;r=r+1|0)e.nameRecords[r].C(t);if(e.format>0){e.langTagCount.C(t),n=e.langTagCount.get();for(var r=0;r<n;r=r+1|0)e.langTagRecords[r].C()}n=e.stringData.length;for(var r=0;r<n;r=r+1|0)t.data[t.offset]=e.stringData[r],t.offset+=1},Vt.prototype.factory=function(){var t=new Vt,e={};e[1]='WebFont',e[2]='Regular',e[3]='1',e[4]='WebFont',e[5]='Version 1.0',e[6]='WebFont';var n=2,r=6;t.format.set(0),t.count.set(r*n),t.nameRecords=[],t.stringOffset.set(6+12*r*n);var o=[],s=0;for(var a in e)if(e.hasOwnProperty(a)){for(var i=e[a],u=i.length,f=0;f<u;f+=1)o.push(255&i.charCodeAt(f));var h=new Xt;h.platformID.set(1),h.encodingID.set(0),h.languageID.set(0),h.nameID.set(parseInt(a,10)),h.length.set(u),h.offset.set(s),t.nameRecords.push(h),s+=u}s=o.length;for(var a in e)if(e.hasOwnProperty(a)){for(var i=e[a],u=i.length,f=0;f<u;f+=1)o.push(i.charCodeAt(f)>>8&255),o.push(255&i.charCodeAt(f));var h=new Xt;h.platformID.set(3),h.encodingID.set(1),h.languageID.set(1033),h.nameID.set(parseInt(a,10)),h.length.set(2*u),h.offset.set(s),t.nameRecords.push(h),s+=2*u}return t.stringData=o,t};var Xt=function(){var t=this;t.platformID=new ot,t.encodingID=new ot,t.languageID=new ot,t.nameID=new ot,t.length=new ot,t.offset=new ot,t._string=[]};Xt.prototype.C=function(t){var e=this;e.platformID.C(t),e.encodingID.C(t),e.languageID.C(t),e.nameID.C(t),e.length.C(t),e.offset.C(t)};var Ut=function(t){var e=this;e.tag='vmtx',e.vMetrics=[],e.topSideBearing=[],e._TTF=t};Ut.prototype.C=function(t){for(var e=this,n=e.vMetrics.length,r=0;r<n;r=r+1|0)e.vMetrics[r].C(t);n=e.topSideBearing.length;for(var r=0;r<n;r=r+1|0)e.topSideBearing[r].C(t)},Ut.prototype.factory=function(t,e,n){for(var r=0,o=[],s=new Ut,a=parseInt(t.R_NUM_GLYPHS,10),i=0;i<a;i++){if(null!==n)var u=e[n.T[i]];else var u=e[i];'undefined'==typeof u?o.push([0,0]):o.push([u.AH,u.TSB])}for(var f=o[o.length-1][0],h=o.length;o[h-2][0]===f;)if(h-=1,h<=1){h=1;break}r=h;for(var l=0;l<h;l=l+1|0)s.vMetrics[l]=new Ht,'undefined'==typeof o[l]||null===o[l]?(s.vMetrics[l].advanceHeight.set(0),s.vMetrics[l].topSideBearing.set(0)):(s.vMetrics[l].advanceHeight.set(o[l][0]),s.vMetrics[l].topSideBearing.set(o[l][1]));for(var c=o.length,l=h;l<c;l=l+1|0){var p=s.topSideBearing[l-h]=new st;p.set(o[l][1])}return t.R_NUMBER_OF_METRICS_V=s.vMetrics.length,s};var Ht=function(){var t=this;t.advanceHeight=new ot,t.topSideBearing=new st};Ht.prototype.C=function(t){var e=this;e.advanceHeight.C(t),e.topSideBearing.C(t)};var $t=function(t,e){var n=this;n._TTF=t,n._data=null,n.tag=e};$t.prototype.D=function(t){var e=this,n=e._TTF.getTableData(e.tag).info.length.get();e._data=t.data.subarray(t.offset,t.offset+n),t.offset+=n},$t.prototype.C=function(t){var e=this;t.data.set(e._data,t.offset),t.offset+=e._data.length};var jt=function(){var t=this;t.tag='cmap',t.version=new st,t.numTables=new st,t.encodingRecords=[]};jt.prototype.C=function(t){var e=this,n=t.offset;this.version.C(t);var r=e.encodingRecords.length;e.numTables.set(r),e.numTables.C(t);for(var o=0;o<r;o=o+1|0)e.encodingRecords[o].C(t);for(var o=0;o<r;o=o+1|0)e.encodingRecords[o].offset.finalize(t,n)},jt.prototype.factory=function(t,e,n){var r=new jt;r.version.set(0),r.encodingRecords=[];var o=Kt.prototype.factory(t,e,n),s=new Wt;s.data=o;var a=new qt;a.platformID.set(3),a.encodingID.set(1),a.offset.setRef(s),r.encodingRecords.push(a);var i=zt.prototype.factory(t,e,n);if(null!==i){var u=new Wt;u.data=i;var f=new qt;f.platformID.set(3),f.encodingID.set(10),f.offset.setRef(u),r.encodingRecords.push(f)}var h=Zt.prototype.factory(t,e,n);if(null!==h){var l=new Wt;l.data=h;var c=new qt;c.platformID.set(0),c.encodingID.set(5),c.offset.setRef(l),r.encodingRecords.unshift(c)}return r};var qt=function(){var t=this;t.platformID=new ot,t.encodingID=new ot,t.offset=new dt(Wt)};qt.prototype.C=function(t){var e=this;e.platformID.C(t),e.encodingID.C(t),e.offset.C(t)};var Wt=function(){var t=this;t.format=new ot,t.data=null};Wt.prototype.C=function(t){var e=this;if(null===e.data)throw'ERR';e.data.C(t)};var Kt=function(){var t=this;t.format=new ot,t.length=new ot,t.language=new ot,t.segCountX2=new ot,t.searchRange=new ot,t.entrySelector=new ot,t.rangeShift=new ot,t.endCount=[],t.reservedPad=new ot,t.startCount=[],t.idDelta=[],t.idRangeOffset=[],t.glyphIdArray=[],t._endPadding=[]};Kt.prototype.C=function(t){var e=this;e.format.C(t),e.length.C(t),e.language.C(t),e.segCountX2.C(t);var n=e.segCountX2.get()/2;e.searchRange.C(t),e.entrySelector.C(t),e.rangeShift.C(t);for(var r=0;r<n;r=r+1|0)e.endCount[r].C(t);e.reservedPad.C(t);for(var r=0;r<n;r=r+1|0)e.startCount[r].C(t);for(var r=0;r<n;r=r+1|0)e.idDelta[r].C(t);for(var r=0;r<n;r=r+1|0)e.idRangeOffset[r].C(t);for(var r=0;r<e.glyphIdArray.length;r=r+1|0)e.glyphIdArray[r].C(t);for(var r=0;r<e._endPadding.length;r=r+1|0)e._endPadding[r].C(t)},Kt.prototype.GID2CharCode=function(t){var e=this;return null==e._GID2CharCodeTable&&(e._GID2CharCodeTable=reverse_hash(e.CharCode2GID())),e._GID2CharCodeTable[t]},Kt.prototype.CharCode2GID=function(t){var e=this;if(null==e._CharCode2GID){e._CharCode2GID={};for(var n=0;n<e.segCountX2.get()/2;n=n+1|0)for(var r=e.startCount[n].get();r<e.endCount[n].get()+1&&65535!=e.endCount[n].get();r=r+1|0){var o=0;if(0==e.idRangeOffset[n].get())o=(e.idDelta[n].get()+r)%65536;else{var s=e.idRangeOffset[n].get()/2+n+(r-e.startCount[n].get())-e.segCountX2.get()/2;o=e.glyphIdArray[s].get()%65536}e._CharCode2GID[r]=o}}return null!=t?e._CharCode2GID[t]:e._CharCode2GID},Kt.prototype.factory=function(t,e,n){var r=new Kt;r.format.set(4),r.language.set(0);var o=0,s=[],a=[],i=[],u=[],f=[],h={},l=[];for(var p in t)if(null!==t[p]&&t.hasOwnProperty(p)){var g=p.codePointAt();h[g]=p,g<=65535&&l.push(g)}var d=c(l);d.sort(function(t,e){return t-e});for(var v=null,C=0;C<d.length;C+=1){var y=d[C],m=h[y],_=t[m];null!==n&&(_=n.O[_]);var D=null;if(C!==d.length-1&&(y=d[C+1],D=t[h[y]],null!==n&&(D=n.O[D])),null===v){v=d[C],s.push(v);var w=_-v;w<-32768?i.push(65536%v+_):w<32768?i.push(w):i.push(65536%_+v)}else v=d[C];if(C!==d.length-1&&v+1===d[C+1]&&_+1===D||(a.push(v),u.push(0),v=null),_>65536)throw new Error('GID is over 0xFFFF.')}if(s.push(65535),a.push(65535),i.push(1),u.push(0),Math.max(s.length,a.length,i.length,u.length)!==Math.min(s.length,a.length,i.length,u.length))throw new Error('All Array Length is not equal');o=s.length,r.length.set(14+2*a.length+2+2*s.length+2*i.length+2*u.length+2*f.length),r.segCountX2.set(2*o),r.searchRange.set(2*Math.pow(2,Math.floor(Math.log(o)/Math.log(2)))),r.entrySelector.set(Math.log(r.searchRange.get()/2)/Math.log(2)),r.rangeShift.set(2*o-r.searchRange.get());for(var C=0;C<o;C+=1)r.endCount[C]=new ot,r.startCount[C]=new ot,r.idDelta[C]=new st,r.idRangeOffset[C]=new ot,r.endCount[C].set(a[C]),r.startCount[C].set(s[C]),r.idDelta[C].set(i[C]),r.idRangeOffset[C].set(u[C]);for(var C=0;C<f.length;C+=1)r.glyphIdArray[C]=new ot,r.glyphIdArray[C].set(f[C]);return r};var zt=function(){var t=this;t.format=new ot,t.reserved=new ot,t.length=new ut,t.language=new ut,t.nGroups=new ut,t.groups=[]};zt.prototype.C=function(t){this.format.C(t),this.reserved.C(t),this.length.C(t),this.language.C(t),this.nGroups.C(t);for(var e=0;e<this.groups.length;e=e+1|0)this.groups[e].C(t)},zt.prototype.GID2CharCode=function(t){var e=this;return null==e._GID2CharCodeTable&&(e._GID2CharCodeTable=reverse_hash(e.CharCode2GID())),e._GID2CharCodeTable[t]},zt.prototype.CharCode2GID=function(t){var e=this;if(null==e._CharCode2GID){e._CharCode2GID={};for(var n=0;n<e.groups.length;n=n+1|0)for(var r=e.groups[n].startCharCode.get();r<=e.groups[n].endCharCode.get();r=r+1|0)e._CharCode2GID[r]=e.groups[n].startGlyphID.get()+(r-e.groups[n].startCharCode.get())}return null!=t?e._CharCode2GID[t]:e._CharCode2GID},zt.prototype.factory=function(t,e,n){var r=new zt;r.format.set(12),r.language.set(0);var o=0,s=[],a=[],i=[],u=!1,f={},h=[];for(var l in t)if(null!==t[l]&&t.hasOwnProperty(l)){var p=l.codePointAt();f[p]=l,p<=16777215&&h.push(p),65535<p&&(u=!0)}if(!u)return null;var g=c(h);g.sort(function(t,e){return t-e});for(var d=null,v=g.length,C=0;C<v;C=C+1|0){var y=g[C],m=t[f[y]];null!==n&&(m=n.O[m]);var _=null;C!==g.length-1&&(y=g[C+1],_=t[f[y]]),null==d?(d=g[C],s.push(d),i.push(m)):d=g[C],(C==g.length-1||d+1!==g[C+1]||_!==-1||_!=-1&&m+1!==_)&&(a.push(d),d=null)}if(Math.max(s.length,a.length,i.length)!=Math.min(s.length,a.length,i.length))throw'All Array Length is not equal';o=s.length,r.length.set(16+12*o),r.nGroups.set(o);for(var C=0;C<o;C=C+1|0){var D=new Yt;D.startCharCode.set(s[C]),D.endCharCode.set(a[C]),D.startGlyphID.set(i[C]),r.groups.push(D)}return r};var Yt=function(){var t=this;t.startCharCode=new ut,t.endCharCode=new ut,t.startGlyphID=new ut};Yt.prototype.C=function(t){var e=this;e.startCharCode.C(t),e.endCharCode.C(t),e.startGlyphID.C(t)};var Zt=function(){var t=this;t.format=new ot,t.length=new ut,t.numVarSelectorRecords=new ut,t.VSRecords=[]};Zt.prototype.C=function(t){var e=this,n=t.offset;e.format.C(t),e.length.C(t),e.numVarSelectorRecords.set(e.VSRecords.length),e.numVarSelectorRecords.C(t);for(var r=e.VSRecords.length,o=0;o<r;o=o+1|0)e.VSRecords[o].C(t);for(var o=0;o<r;o=o+1|0)e.VSRecords[o].finalize(t,n)},Zt.prototype.factory=function(t,e,n){var r=new Zt;r.format.set(14);var o={};for(var a in t)if(t.hasOwnProperty(a)){var i=t[a];if(null!==i){var u=s(a);null!==u.vs&&(u.vs in o||(o[u.vs]=[]),o[u.vs].push({uni:u.base,i:null!==n?n.O[i]:i}))}}if(0===Object.keys(o).length)return null;var f=0;for(var h in o){var l=new Jt;l.varSelector.set(h);for(var c=0;c<o[h].length;c=c+1|0)if(t[o[h][c].uni]===o[h][c].i){var p=new ct,g=new rt;p.set(o[h][c].uni),g.set(1),l.defaultUVSOffset.getRef().UnicodeValueRanges.push({startUnicodeValue:p,additionalCount:g}),f+=4}else{var d=new ct,v=new ot;d.set(o[h][c].uni),v.set(o[h][c].i),l.nonDefaultUVSOffset.getRef().UVSMappings.push({unicodeValue:d,glyphID:v}),f+=5}0===l.nonDefaultUVSOffset.getRef().UVSMappings.length?l.nonDefaultUVSOffset.setRef(null):f+=4,0===l.defaultUVSOffset.getRef().UnicodeValueRanges.length?l.defaultUVSOffset.setRef(null):f+=4,r.VSRecords.push(l)}return r.length.set(10+11*r.VSRecords.length+f),r},Zt.prototype.GID2CharCode=function(){throw'not impremented'},Zt.prototype.CharCode2GID=function(){throw'not impremented'};var Jt=function(){var t=this;t.varSelector=new ct,t.defaultUVSOffset=new dt(Qt),t.nonDefaultUVSOffset=new dt(te)};Jt.prototype.C=function(t){var e=this;e.varSelector.C(t),e.defaultUVSOffset.C(t),e.nonDefaultUVSOffset.C(t)},Jt.prototype.finalize=function(t,e){var n=this;n.defaultUVSOffset.finalize(t,e),n.nonDefaultUVSOffset.finalize(t,e)};var Qt=function(){var t=this;t.numUnicodeValueRanges=new ut,t.UnicodeValueRanges=[]};Qt.prototype.C=function(t){var e=this;e.numUnicodeValueRanges.set(e.UnicodeValueRanges.length),e.numUnicodeValueRanges.C(t);for(var n=0;n<e.UnicodeValueRanges.length;n=n+1|0)e.UnicodeValueRanges[n].startUnicodeValue.C(t),e.UnicodeValueRanges[n].additionalCount.C(t)};var te=function(){var t=this;t.numUVSMappings=new ut,t.UVSMappings=[]};te.prototype.C=function(t){var e=this;e.numUVSMappings.set(e.UVSMappings.length),e.numUVSMappings.C(t);for(var n=0;n<e.UVSMappings.length;n=n+1|0)e.UVSMappings[n].unicodeValue.C(t),e.UVSMappings[n].glyphID.C(t)};var ee=256,ne=function(t){this.tag='glyf',this.elements=[],this._TTF=t};ne.prototype.C=function(t){for(var e=(t.offset,0);e<this.elements.length;e=e+1|0)t.data.set(this.elements[e].data,t.offset),t.offset+=this.elements[e].data.length},ne.prototype.factory=function(t,e,n){for(var r=new ne,o=new Bt,s=0,a=10,i=0,u=1e4,f=1e4,h=-1e4,c=-1e4,p=1e4,g=1e4,d=1e4,v=1e4,C=0,y=0,m=0,_=-1e4,D=-1e4,w=-1e4,b=-1e4,S=parseInt(e.R_NUM_GLYPHS,10),T=0;T<S;T+=1){var I,R=new re;if(I=null!==n?t[n.T[T]]:t[T],
'undefined'!=typeof I){var F=I;R.data=l(F.pack),''!==F.pack&&(u=Math.min(F.XMin,u),f=Math.min(F.YMin,f),h=Math.max(F.XMax,h),c=Math.max(F.YMax,c),p=Math.min(F.LSB,p),g=Math.min(F.AW-F.LSB-(F.XMax-F.XMin),g),a=Math.max(F.cnts,a),w=Math.max(F.LSB+(F.XMax-F.XMin),w)),null!==F.AH&&null!==F.TSB&&(d=Math.min(F.TSB,d),v=Math.min(F.AH-F.TSB-(F.YMax-F.YMin),v),b=Math.max(F.TSB+(F.YMax-F.YMin),b),0!==F.AH&&(D=Math.max(F.AH,D),m+=F.aH,C+=1)),0!==F.AW&&(_=Math.max(F.AW,_),y+=F.AW,i+=1)}else R.data=[];o.offsets[T]=new ut,o.offsets[T].set(s),s+=R.data.length,r.elements[T]=R}var E=new ut;return E.set(s),o.offsets.push(E),e.R_BOUNDING_BOX=[u,f,h,c].join(','),e.R_X_AVG_CHARWIDTH=Math.floor(y/i),e.R_X_MAX_EXTENT=w,e.R_ADVANCE_WIDTH_MAX=_,e.R_MIN_LEFT_SIDE_BEARING=p,e.R_MIN_RIGHT_SIDE_BEARING=g,e.R_ADVANCE_HEIGHT_MAX=D,e.R_MIN_TOP_SIDE_BEARING=d,e.R_MIN_BOTTOM_SIDE_BEARING=v,e.R_Y_MAX_EXTENT=b,{glyf:r,loca:o}};var re=function(t){this.data=[],this._elements=t,this.numberOfContours=new st,this.xMin=new st,this.yMin=new st,this.xMax=new st,this.yMax=new st,this.glyph=null};re.prototype.setData=function(t){'layers'in t?this.glyph=new se:'glyph'in t?this.glyph=new oe:this.glyph=new oe,this.glyph.setData(t)},re.prototype.build=function(){if(null===this.glyph)throw new Error('先にsetDataしてください。');this.glyph.build(this,this._elements)},re.prototype.D=function(t){null===t&&(t={data:this.data,offset:0}),this.numberOfContours.D(t),this.xMin.D(t),this.yMin.D(t),this.xMax.D(t),this.yMax.D(t),0===this.numberOfContours.get()||(this.numberOfContours.get()>0?(this.glyph=new oe(this),this.glyph.D(t)):(this.glyph=new se(this),this.glyph.D(t)))},re.prototype.C=function(){var t=new ArrayBuffer(2e4),e=new Uint8Array(t),n={data:e,offset:0,memory:!0},r=this.numberOfContours.get();r>0?(this.numberOfContours.C(n),this.xMin.C(n),this.yMin.C(n),this.xMax.C(n),this.yMax.C(n),this.glyph.C(n),Y.TTF.prototype.padding(n,4)):r<0&&(this.numberOfContours.C(n),this.xMin.C(n),this.yMin.C(n),this.xMax.C(n),this.yMax.C(n),this.glyph.C(n),Y.TTF.prototype.padding(n,4)),this.data=n.data.subarray(0,n.offset)},re.prototype.getPath=function(){return 0===this.numberOfContours.get()?' ':this.glyph.getPath(this._elements)},re.prototype.getBBox=function(t){if(this.glyph instanceof se)return t?this.glyph.getBBox(this._elements):{xMin:0,yMin:0,xMax:0,yMax:0};if(this.glyph instanceof oe)return this.glyph.getBBox();throw new Error('グリフが不明')},re.prototype.getPnts=function(t){return t?this.glyph instanceof se?this.glyph.getPnts(this._elements):0:this.glyph instanceof oe?this.glyph.getPnts():0},re.prototype.getCnts=function(t){return t?this.glyph instanceof se?this.glyph.getCnts(this._elements):0:this.glyph instanceof oe?this.glyph.getCnts():-1},re.prototype.getDepth=function(){return this.glyph instanceof se?this.glyph.getDepth(this._elements):0},re.prototype.getElements=function(){return this.glyph instanceof se?this.glyph.getElements(this._elements):0};var oe=function(t){this.endPtsOfContours=[],this.instructionLength=new ot,this.instructions=[],this.flags=[],this.xCoordinates=[],this.yCoordinates=[],this._glyf=t};oe.prototype.C=function(t){for(var e=0;e<this.endPtsOfContours.length;e=e+1|0)this.endPtsOfContours[e].C(t);this.instructionLength.C(t);for(var e=0;e<this.instructions.length;e=e+1|0)this.instructions[e].C(t);for(var e=0;e<this.flags.length;e=e+1|0)this.flags[e].C(t);for(var e=0;e<this.xCoordinates.length;e=e+1|0)this.xCoordinates[e].C(t);for(var e=0;e<this.yCoordinates.length;e=e+1|0)this.yCoordinates[e].C(t)};var se=function(){this.components=[],this.numInstr=null,this.instr=[]};se.prototype.C=function(t){for(var e=null,n=0;n<this.components.length;n=n+1|0)e=this.components[n],e.C(t);if(e.flags.get()&ee){this.numInstr.C(t);for(var n=0;n<this.instr.length;n=n+1|0)this.instr[n].C(t)}},Y.TTF=function(){this.tag='TTF',this.sfntHeader=new Tt(this),this._TableHash={head:It,hhea:Rt,'OS/2':Et,post:kt,maxp:At,cmap:jt,'cvt ':Mt,loca:Bt,prep:Lt,fpgm:Ot,name:Vt,hmtx:Gt,glyf:ne,'CFF ':me,gasp:xt,GSUB:Xe,vmtx:Ut,vhea:Ft},this._readingPhaseTableClassNameList=['head','hhea','OS/2','post','maxp','cmap','cvt ','prep','fpgm','loca','name',,'hmtx','glyf','gasp','CFF ','GSUB','vhea','vmtx']},Y.TTF.prototype.D=function(t){this.sfntHeader.D(t);for(var e=0;e<this._readingPhaseTableClassNameList.length;e=e+1|0)for(var n=0;n<this.sfntHeader.numTables.get();n=n+1|0)if(this.sfntHeader.tableRecords[n].tag.get()==this._readingPhaseTableClassNameList[e]){this.sfntHeader.tableRecords[n].offset._ref=new(this._TableHash[this.sfntHeader.tableRecords[n].tag.get()])(this,this.sfntHeader.tableRecords[n].tag.get()),this.sfntHeader.tableRecords[n].offset.DRef(t,0);break}for(var e=0;e<this.sfntHeader.tableRecords.length;e=e+1|0)null==this.sfntHeader.tableRecords[e].offset._ref&&(this.sfntHeader.tableRecords[e].offset._ref=new $t(this,this.sfntHeader.tableRecords[e].tag.get()),this.sfntHeader.tableRecords[e].offset.DRef(t,0))},Y.TTF.prototype.C=function(t){this.sfntHeader.C(t),Y.TTF.prototype.padding(t,4);var e=this.getTableData('head');e&&e.table.checkSumAdjustment.finalize(t,0,t.offset,!0)},Y.TTF.prototype.getTableData=function(t){for(var e=0;e<this.sfntHeader.tableRecords.length;e=e+1|0)if(this.sfntHeader.tableRecords[e].tag.get()==t)return{info:this.sfntHeader.tableRecords[e],table:this.sfntHeader.tableRecords[e].offset._ref};return!1},Y.TTF.prototype.setTableData=function(t){this.deleteTableData(t.tag);var e=new St;return e.tag.set(t.tag),e.offset.setRef(t),this.sfntHeader.tableRecords.push(e),!0},Y.TTF.prototype.deleteTableData=function(t){for(var e=0;e<this.sfntHeader.tableRecords.length;e=e+1|0)if(this.sfntHeader.tableRecords[e].tag.get()==t)return this.sfntHeader.tableRecords.splice(e,1),!0;return!1},Y.TTF.prototype.padding=function(t,e){for(var n=(e-t.offset%e)%e,r=0;r<n;r=r+1|0)t.data[t.offset]=0,t.offset+=1},Y.TTF.prototype.factory=function(t,e,n,r,o){function s(t,e,n){if('undefined'!=typeof e){var r=new $t(t,n);r._data=l(e),t.setTableData(r)}}var a=new Y.TTF;switch(a.setTableData(jt.prototype.factory(n,t,o)),t.FONT_TYPE){case'OT':a.setTableData(me.prototype.factoryName(r,t,o));break;case'CID':a.setTableData(me.prototype.factoryCID(r,e,t,o));break;case'TT':var i=ne.prototype.factory(r,t,o);a.setTableData(i.glyf),a.setTableData(i.loca);break;default:throw new Error('format(''+t.FONT_TYPE+'')は不明です。')}return a.setTableData(Gt.prototype.factory(t,r,o)),a.setTableData(Rt.prototype.factory(t)),'undefined'!=typeof t.VERTICAL&&'Yes'===t.VERTICAL&&(a.setTableData(Ut.prototype.factory(t,r,o)),a.setTableData(Ft.prototype.factory(t))),a.setTableData(It.prototype.factory(t)),a.setTableData(At.prototype.factory(t)),a.setTableData(Vt.prototype.factory(t)),a.setTableData(kt.prototype.factory()),a.setTableData(Et.prototype.factory(t)),a.setTableData(xt.prototype.factory()),t.OPTIMIZE||(s(a,t.GDEF_BIN,'GDEF'),s(a,t.GPOS_BIN,'GPOS'),s(a,t.GSUB_BIN,'GSUB'),s(a,t.BASE_BIN,'BASE')),'TT'===t.FONT_TYPE&&(s(a,t.R_TT_HINT_FPGM,'fpgm'),s(a,t.R_TT_HINT_CVT,'cvt '),s(a,t.R_TT_HINT_PREP,'prep')),a},Y.ToBase64=function(t){var e=new ArrayBuffer(5242880),n=new Uint8Array(e),r={data:n,offset:0,memory:!0};t.C(r);var o=e.slice(0,r.offset),s=new Uint8Array(o);return j(s)},Y.ToBlob=function(t){var e=new ArrayBuffer(5242880),n=new Uint8Array(e),r={data:n,offset:0,memory:!0};t.C(r);var o=e.slice(0,r.offset),s=new Uint8Array(o),a=new Blob([s],{type:'application/octet-stream'});return a};var ae='https://web-dev.realtype.jp:8080',ie='7990acf4c97dec8946c419e2cc2e7dbc',ue='https://web-dev.realtype.jp:8080/fonts.html?user_key=7990acf4c97dec8946c419e2cc2e7dbc';Y.TTF.resolveRecipe=function(t){var e=this;return t=e.checkRecipe(t),new Promise(function(e,n){if('resource'in t){var r=y(t.resource);Promise.all(r).then(function(e){var n={};return e.map(function(t){Object.assign(n,t)}),[n,t]}).then(b).then(function(){e()})}else e()})};var fe={0:'reserved',1:'hstem',2:'reserved',3:'vstem',4:'vmoveto',5:'rlineto',6:'hlineto',7:'vlineto',8:'rrcurveto',9:'reserved',10:'callsubr',11:'return',13:'reserved',14:'endchar',15:'reserved',16:'reserved',17:'reserved',18:'hstemhm',19:'hintmask',20:'cntrmask',21:'rmoveto',22:'hmoveto',23:'vstemhm',24:'rcurveline',25:'rlinecurve',26:'vvcurveto',27:'hhcurveto',29:'callgsubr',30:'vhcurveto',31:'hvcurveto'},he=(a(fe),{0:'reserved',1:'reserved',2:'reserved',3:'and',4:'or',5:'not',6:'reserved',7:'reserved',8:'reserved',9:'abs',10:'add',11:'sub',12:'div',13:'reserved',14:'neg',15:'eq',16:'reserved',17:'reserved',18:'drop',19:'reserved',20:'put',21:'get',22:'ifelse',23:'random',24:'mul',25:'reserved',26:'sqrt',27:'dup',28:'exch',29:'index',30:'roll',31:'reserved',32:'reserved',33:'reserved',34:'hflex',35:'flex',36:'hflex1',37:'flex1'}),fe=(a(he),{0:'reserved',1:'hstem',2:'reserved',3:'vstem',4:'vmoveto',5:'rlineto',6:'hlineto',7:'vlineto',8:'rrcurveto',9:'reserved',10:'callsubr',11:'return',13:'reserved',14:'endchar',15:'reserved',16:'reserved',17:'reserved',18:'hstemhm',19:'hintmask',20:'cntrmask',21:'rmoveto',22:'hmoveto',23:'vstemhm',24:'rcurveline',25:'rlinecurve',26:'vvcurveto',27:'hhcurveto',29:'callgsubr',30:'vhcurveto',31:'hvcurveto'}),he=(a(fe),{0:'reserved',1:'reserved',2:'reserved',3:'and',4:'or',5:'not',6:'reserved',7:'reserved',8:'reserved',9:'abs',10:'add',11:'sub',12:'div',13:'reserved',14:'neg',15:'eq',16:'reserved',17:'reserved',18:'drop',19:'reserved',20:'put',21:'get',22:'ifelse',23:'random',24:'mul',25:'reserved',26:'sqrt',27:'dup',28:'exch',29:'index',30:'roll',31:'reserved',32:'reserved',33:'reserved',34:'hflex',35:'flex',36:'hflex1',37:'flex1'}),le=(a(he),J(!1,1)),ce=J(!1,2),pe=J(!1,1),ge=J(!1,1),de=J(!1,2),ve=J(!1,3),Ce=J(!1,4),ye=(J(!1,2),function(t){t?this._string=t:this._string=''});ye.prototype.D=function(t,e){for(var n='',r=0;r<e;r=r+1|0)n+=String.fromCharCode(t.data[t.offset+r]);t.offset+=e,this._string=n},ye.prototype.C=function(t){for(var e=0;e<this._string.length;e=e+1|0)t.data[t.offset]=this._string.charCodeAt(e),t.offset+=1},ye.prototype.get=function(){return this._string},ye.prototype.set=function(t){this._string=t};var me=function(){var t=this;t.tag='CFF ',t.major=new le,t.minor=new le,t.hdrSize=new le,t.offSize=new pe,t.NameINDEX=new Z.Table.NameINDEX,t.TopDictINDEX=new Z.Table.TopDictINDEX,t.StringINDEX=new Z.Table.StringINDEX,t.GlobalSubrINDEX=new Z.Table.GlobalSubrINDEX,t.Charsets=null,t.CharStringsINDEX=null,t.PrivateDICT=null,t.LocalSubrINDEX=null,t.LocalSubrINDEX=null,t.FDSelect=null,t.FDArray=null,t.FDPrivates=[]};me.prototype.C=function(t){var e=this,n=t.offset;if(null!=t.__offset__charset__global__||null!=t.__offset__charstring__global__||null!=t.__offset__privateDict__global__||null!=t.__length__privateDict__global__||null!=t.__offset__localSubr__global__||null!=t.__offset__fdArray__global__||null!=t.__offset__fdSelect__global__)throw'ERR';if(t.__offset__privateDict__global__=[],t.__length__privateDict__global__=[],e.major.C(t),e.minor.C(t),e.hdrSize.C(t),e.offSize.C(t),e.NameINDEX.C(t),e.TopDictINDEX.C(t),e.StringINDEX.C(t),e.GlobalSubrINDEX.C(t),null!=e.Charsets&&(t.__offset__charset__global__._ref=e.Charsets,t.__offset__charset__global__.finalize(t,n)),null!=e.PrivateDICT){var r=t.offset;t.__offset__privateDict__global__[0]._ref=e.PrivateDICT,t.__offset__privateDict__global__[0].finalize(t,n),t.__length__privateDict__global__[0].finalize(t,r,t.offset)}if(null!=e.FDArray){t.__offset__fdArray__global__._ref=e.FDArray,t.__offset__fdArray__global__.finalize(t,n);for(var o=0;o<t.__offset__privateDict__global__.length;o=o+1|0){var r=t.offset;t.__offset__privateDict__global__[o]._ref=e.FDPrivates[o],t.__offset__privateDict__global__[o].finalize(t,n),t.__length__privateDict__global__[o].finalize(t,r,t.offset)}}null!=e.FDSelect&&(t.__offset__fdSelect__global__._ref=e.FDSelect,t.__offset__fdSelect__global__.finalize(t,n)),null!=e.CharStringsINDEX&&(t.__offset__charstring__global__._ref=e.CharStringsINDEX,t.__offset__charstring__global__.finalize(t,n))},me.prototype.factoryName=function(t,e,n){var r=1e4,o=1e4,s=-1e4,a=-1e4,i=1e4,u=1e4,f=1e4,h=1e4,c=0,p=0,g=0,d=0,v=-1e4,C=-1e4,y=-1e4,m=-1e4,_=new me;_.CharStringsINDEX=new Z.Table.CharStringsINDEX,_.Charsets=new Z.Table.Charsets;var D=new Z.Table.CharsetsFormat2;_.LocalSubrINDEX=new Z.Table.LocalSubrINDEX;var w=new ye,b=new ye,S=new ye,T=new ye;w.set('use dynamic webfont only'),b.set('Copyright (c) 2015 Realtype All Rights Reserved.'),S.set('WebFont Regular'),T.set('WebFont'),_.StringINDEX.data.push(w),_.StringINDEX.data.push(b),_.StringINDEX.data.push(S),_.StringINDEX.data.push(T);for(var I=parseInt(e.R_NUM_GLYPHS),R=0;R<I;R++){var F=new De;if(null!==n)var E=t[n.T[R]];else var E=t[R];if('undefined'!=typeof E?F.data=l(E.pack):F.data=l('Dg=='),_.CharStringsINDEX.data.push(F),R>0){var k=new ye;k.set('GID'+R),_.StringINDEX.data.push(k)}'undefined'!=typeof E&&(r=Math.min(E.XMin,r),o=Math.min(E.YMin,o),s=Math.max(E.XMax,s),a=Math.max(E.YMax,a),i=Math.min(E.LSB,i),u=Math.min(E.AW-E.LSB-(E.XMax-E.XMin),u),y=Math.max(E.LSB+(E.XMax-E.XMin),y),0!==E.AW&&(v=Math.max(E.AW,v),g+=E.AW,c+=1),f=Math.min(E.TSB,f),h=Math.min(E.AH-E.TSB-(E.YMax-E.YMin),h),m=Math.max(E.TSB+(E.YMax-E.YMin),m),0!==E.AH&&(C=Math.max(E.AH,C),d+=E.aH,p+=1))}e.R_BOUNDING_BOX=[r,o,s,a].join(','),e.R_MIN_RIGHT_SIDE_BEARING=u,e.R_MIN_LEFT_SIDE_BEARING=i,e.R_X_AVG_CHARWIDTH=Math.floor(g/c),e.R_ADVANCE_WIDTH_MAX=v,e.R_X_MAX_EXTENT=y,e.R_MIN_TOP_SIDE_BEARING=f,e.R_MIN_BOTTOM_SIDE_BEARING=h,e.R_Y_AVG_CHARWIDTH=Math.floor(d/p),e.R_ADVANCE_HEIGHT_MAX=C,e.R_Y_MAX_EXTENT=m,_.major.set(1),_.minor.set(0),_.hdrSize.set(4),_.offSize.set(4);var A=new ye;A.set('WebFont'),_.NameINDEX.data.push(A);var M=new _e,L=Math.floor(1e4*Math.random()),O=[Math.floor(10*Math.random()),Math.floor(100*Math.random()),Math.floor(1e3*Math.random()),Math.floor(1e4*Math.random())],x=[.001,0,0,.001,0,0];if('string'==typeof e.CFF_FONT_MATRIX){var N=e.CFF_FONT_MATRIX.slice(1,-1).split(',');x[0]=parseFloat(N[0]),x[1]=parseFloat(N[1]),x[2]=parseFloat(N[2]),x[3]=parseFloat(N[3]),x[4]=parseFloat(N[4]),x[5]=parseFloat(N[5])}var G=-100,P=50,B=[r,o,s,a];return M.setValueFromKey(0,[379]),M.setValueFromKey(1,[391]),M.setValueFromKey(3072,[392]),M.setValueFromKey(2,[393]),M.setValueFromKey(3,[394]),M.setValueFromKey(4,[388]),M.setValueFromKey(5,B),M.setValueFromKey(3073,[0]),M.setValueFromKey(3074,[1]),M.setValueFromKey(3075,[G]),M.setValueFromKey(3076,[P]),M.setValueFromKey(3077,[0]),M.setValueFromKey(3078,[2]),M.setValueFromKey(3079,x),M.setValueFromKey(13,[L]),M.setValueFromKey(3080,[0]),M.setValueFromKey(14,O),M.setValueFromKey(15,[0]),M.setValueFromKey(16,[0]),M.setValueFromKey(17,[0]),M.setValueFromKey(18,[0,0]),_.TopDictINDEX.data.push(M),_.Charsets.format.set(2),D.set(395,I-2),_.Charsets.subtable=D,_.PrivateDICT=new _e,'string'==typeof e.OT_BLUE_VALUES&&_.PrivateDICT.setValueFromKey(6,e.OT_BLUE_VALUES.split(',').map(parseFloat)),'string'==typeof e.OT_OTHER_BLUES&&_.PrivateDICT.setValueFromKey(7,e.OT_OTHER_BLUES.split(',').map(parseFloat)),'string'==typeof e.OT_FAMILY_BLUES&&_.PrivateDICT.setValueFromKey(8,e.OT_FAMILY_BLUES.split(',').map(parseFloat)),'string'==typeof e.OT_FAMILY_OTHER_BLUES&&_.PrivateDICT.setValueFromKey(9,e.OT_FAMILY_OTHER_BLUES.split(',').map(parseFloat)),'string'==typeof e.OT_FAMILY_OTHER_BLUES&&_.PrivateDICT.setValueFromKey(9,e.OT_FAMILY_OTHER_BLUES.split(',').map(parseFloat)),'string'==typeof e.OT_STD_HW&&_.PrivateDICT.setValueFromKey(10,[parseFloat(e.OT_STD_HW)]),'string'==typeof e.OT_STD_VW&&_.PrivateDICT.setValueFromKey(11,[parseFloat(e.OT_STD_VW)]),'string'==typeof e.OT_STEM_SNAP_H&&_.PrivateDICT.setValueFromKey(3084,[parseFloat(e.OT_STEM_SNAP_H)]),'string'==typeof e.OT_STEM_SNAP_V&&_.PrivateDICT.setValueFromKey(3085,[parseFloat(e.OT_STEM_SNAP_V)]),'string'==typeof e.OT_STEM_SNAP_V&&_.PrivateDICT.setValueFromKey(3085,[parseFloat(e.OT_STEM_SNAP_V)]),'string'==typeof e.OT_DEFAULT_WIDTH_X&&_.PrivateDICT.setValueFromKey(20,[parseFloat(e.OT_DEFAULT_WIDTH_X)]),'string'==typeof e.OT_NOMINAL_WIDTH_X&&_.PrivateDICT.setValueFromKey(21,[parseFloat(e.OT_NOMINAL_WIDTH_X)]),_.PrivateDICT.setValueFromKey(3086,[0]),_.PrivateDICT.setValueFromKey(3089,[1]),_.PrivateDICT.setValueFromKey(3090,[.06]),_.PrivateDICT.setValueFromKey(3091,[0]),_},me.prototype.factoryCID=function(t,e,n,r){var o=1e4,s=1e4,a=-1e4,i=-1e4,u=1e4,f=1e4,h=1e4,c=1e4,p=0,g=0,d=0,v=0,C=-1e4,y=-1e4,m=-1e4,_=-1e4,D=new me,w=D.NameINDEX,b=D.TopDictINDEX,S=new _e,T=D.StringINDEX,I=new Z.Table.Charsets,R=new Z.Table.CharsetsFormat2,F=new Z.Table.CharStringsINDEX,E=new Z.Table.FDArray,k=new Z.Table.FDSelect,A=new ye('WebFont'),M=new ye('string'==typeof n.CFF_NOTICE?n.CFF_NOTICE:'use dynamic webfont only'),L=new ye('string'==typeof n.CFF_COPYRIGHT?n.CFF_COPYRIGHT:'Copyright (c) 2015 Realtype'),O=new ye('string'==typeof n.CFF_FULL_NAME?n.CFF_FULL_NAME:'WebFont Regular'),x=new ye('string'==typeof n.CFF_FAMILY_NAME?n.CFF_FAMILY_NAME:'WebFont'),N=0,G=-100,P=50;if('string'==typeof n.H_UNDERLINE){var B=n.H_UNDERLINE.split(',');G=parseInt(B[0])/2+parseInt(B[1]),P=parseInt(B[0])}var V=[.001,0,0,.001,0,0];if('string'==typeof n.CFF_FONT_MATRIX){var X=n.CFF_FONT_MATRIX.split(',');V[0]=parseFloat(X[0]),V[1]=parseFloat(X[1]),V[2]=parseFloat(X[2]),V[3]=parseFloat(X[3]),V[4]=parseFloat(X[4]),V[5]=parseFloat(X[5])}var U=Math.floor(1e4*Math.random()),H=[0,0,0,0],$=[Math.floor(10*Math.random()),Math.floor(100*Math.random()),Math.floor(1e3*Math.random()),Math.floor(1e4*Math.random())],j='Adobe',q='Identity',W=0;if('string'==typeof n.CID_ROS){var X=n.CID_ROS.split(' ');j=X[0],q=X[1],W=parseInt(X[2])}j=new ye(j),q=new ye(q);var K='string'==typeof n.CID_FONT_VERSION?parseFloat(n.CID_FONT_VERSION):1,z='string'==typeof n.CID_FONT_REVISION?parseFloat(n.CID_FONT_REVISION):0,Y=parseInt(n.R_NUM_GLYPHS);k.format.set(3);var J={},Q=0;for(var tt in e)J[tt]=Q++;for(var et=new Z.Table.FDSelectFormat3,nt=-1,rt=Y,ot=0;ot<rt;ot++){var st,at=new De;if(null!==r)var it=t[r.T[ot]];else var it=t[ot];if('undefined'!=typeof it?(at.data=l(it.pack),st=J[it.cluster]):(at.data=l('Dg=='),st=0),F.data.push(at),'undefined'!=typeof it&&(o=Math.min(it.XMin,o),s=Math.min(it.YMin,s),a=Math.max(it.XMax,a),i=Math.max(it.YMax,i),u=Math.min(it.LSB,u),f=Math.min(it.AW-it.LSB-(it.XMax-it.XMin),f),m=Math.max(it.LSB+(it.XMax-it.XMin),m),0!==it.AW&&(C=Math.max(it.AW,C),d+=it.AW,p+=1),h=Math.min(it.TSB,h),c=Math.min(it.AH-it.TSB-(it.YMax-it.YMin),c),_=Math.max(it.TSB+(it.YMax-it.YMin),_),0!==it.AH&&(y=Math.max(it.AH,y),v+=it.AH,g+=1)),nt!==st){var ut=new Z.Table.FDSelectFormat3Range3;ut.first.set(ot),ut.fd.set(st),et.Range3.push(ut),nt=st}}H=[o,s,a,i],n.R_BOUNDING_BOX=H.join(','),n.R_MIN_RIGHT_SIDE_BEARING=f,n.R_MIN_LEFT_SIDE_BEARING=u,n.R_X_AVG_CHARWIDTH=Math.floor(d/p),n.R_ADVANCE_WIDTH_MAX=C,n.R_X_MAX_EXTENT=m,n.R_MIN_TOP_SIDE_BEARING=h,n.R_MIN_BOTTOM_SIDE_BEARING=c,n.R_Y_AVG_CHARWIDTH=Math.floor(v/g),n.R_ADVANCE_HEIGHT_MAX=y,n.R_Y_MAX_EXTENT=_,et.nRanges.set(et.Range3.length),et.sentinel.set(Y),k.subtable=et,D.FDSelect=k,D.major.set(1),D.minor.set(0),D.hdrSize.set(4),D.offSize.set(4),w.data.push(A),S.setValueFromKey(3102,[391,392,W]),S.setValueFromKey(0,[379]),S.setValueFromKey(1,[393]),S.setValueFromKey(3072,[394]),S.setValueFromKey(2,[395]),S.setValueFromKey(3,[396]),S.setValueFromKey(4,[388]),S.setValueFromKey(3073,[N]),S.setValueFromKey(3075,[G]),S.setValueFromKey(3076,[P]),S.setValueFromKey(13,[U]),S.setValueFromKey(5,H),S.setValueFromKey(14,$),S.setValueFromKey(15,[0]),S.setValueFromKey(17,[0]),S.setValueFromKey(3103,[K]),S.setValueFromKey(3104,[z]),S.setValueFromKey(3106,[Y]),S.setValueFromKey(3108,[0]),S.setValueFromKey(3109,[0]),b.data.push(S),T.data.push(j),T.data.push(q),T.data.push(M),T.data.push(L),T.data.push(O),T.data.push(x),I.format.set(2),R.set(1,Y-2),I.subtable=R,D.Charsets=I,D.CharStringsINDEX=F;for(var tt in J){var ft=new ye(tt);T.data.push(ft);var ht=new _e;if(ht.setValueFromKey(3110,[397+J[tt]]),'CFF_FONT_MATRIX'in e[tt]){var X=e[tt].CFF_FONT_MATRIX.split(','),lt=[.001,0,0,.001,0,0];lt[0]=parseFloat(X[0]),lt[1]=parseFloat(X[1]),lt[2]=parseFloat(X[2]),lt[3]=parseFloat(X[3]),lt[4]=parseFloat(X[4]),lt[5]=parseFloat(X[5]),ht.setValueFromKey(3079,lt)}ht.setValueFromKey(18,[0,0]),E.data.push(ht);var ct=new _e;'string'==typeof e[tt].OT_BLUE_VALUES&&ct.setValueFromKey(6,e[tt].OT_BLUE_VALUES.split(',').map(parseFloat)),'string'==typeof e[tt].OT_OTHER_BLUES&&ct.setValueFromKey(7,e[tt].OT_OTHER_BLUES.split(',').map(parseFloat)),'string'==typeof e[tt].OT_FAMILY_BLUES&&ct.setValueFromKey(8,e[tt].OT_FAMILY_BLUES.split(',').map(parseFloat)),'string'==typeof e[tt].OT_FAMILY_OTHER_BLUES&&ct.setValueFromKey(9,e[tt].OT_FAMILY_OTHER_BLUES.split(',').map(parseFloat)),'string'==typeof e[tt].OT_STD_HW&&ct.setValueFromKey(10,[parseInt(e[tt].OT_STD_HW)]),'string'==typeof e[tt].OT_STD_VW&&ct.setValueFromKey(11,[parseInt(e[tt].OT_STD_VW)]),'string'==typeof e[tt].OT_STEM_SNAP_H&&ct.setValueFromKey(3084,e[tt].OT_STEM_SNAP_H.split(',').map(parseFloat)),'string'==typeof e[tt].OT_STEM_SNAP_V&&ct.setValueFromKey(3085,e[tt].OT_STEM_SNAP_V.split(',').map(parseFloat)),'string'==typeof e[tt].OT_LANGUAGE_GROUP&&ct.setValueFromKey(3089,[parseInt(e[tt].OT_LANGUAGE_GROUP)]),'string'==typeof e[tt].OT_DEFAULT_WIDTH_X&&ct.setValueFromKey(20,[parseInt(e[tt].OT_DEFAULT_WIDTH_X)]),'string'==typeof e[tt].OT_NOMINAL_WIDTH_X&&ct.setValueFromKey(21,[parseInt(e[tt].OT_NOMINAL_WIDTH_X)]),D.FDPrivates.push(ct)}return D.FDArray=E,D},Z.Table.INDEX=function(){this.count=new ce,this.offSize=new pe,this.offset=[],this.data=[]},Z.Table.INDEX.prototype.undefined=function(t){if(this.count.D(t),0==this.count.get())return console.log('CFF INDEX count 0...'),null;this.offSize.D(t);for(var e=0;e<this.count.get()+1;e=e+1|0)this.offset.push(this._getOffset(t,this.offSize.get()))},Z.Table.INDEX.prototype.undefined=function(t){var e=[];if(0!=this.data.length){this.count.set(this.data.length),this.count.C(t),this.offSize.set(4),this.offSize.C(t);var n=t.offset;t.offset+=this.offSize.get()*this.count.get()+this.offSize.get();for(var r=t.offset-1,o=0;o<this.data.length;o=o+1|0)e[o]=t.offset,this.data[o].C(t);var s=t.offset;t.offset=n;for(var o=0;o<e.length;o=o+1|0)this.offset[o]=new Ce,this.offset[o].set(e[o]-r),this.offset[o].C(t);this.offset[o]=new Ce,this.offset[o].set(s-r),this.offset[o].C(t),t.offset=s}else this.count.set(0),this.count.C(t)},Z.Table.INDEX.prototype._getOffset=function(t,e){var n;switch(e){case 1:n=new ge;break;case 2:n=new de;break;case 3:n=new ve;break;case 4:n=new Ce;break;default:throw'offsize not 1-4'}return n.D(t),n};var _e=function(){this.keyValues=[]};_e.prototype.C=function(t){for(var e=0;e<this.keyValues.length;e=e+1|0)this._writeKeyValue(this.keyValues[e],t)},_e.prototype.setValueFromKey=function(t,e){for(var n=0;n<this.keyValues.length;n=n+1|0)if(this.keyValues[n].key==t)return this.keyValues[n].value=e,!0;this.keyValues.push({key:t,value:e})},_e.prototype._writeKeyValue=function(t,e){for(var n=t.key,r=t.value,o=new le,s=new le,a=0;a<r.length;a=a+1|0){var i=new le,u=new le;if(r[a]==parseInt(r[a])){if(15===n||16===n||17===n||18===n||19===n||3108===n||3109===n)if(i.set(29),u=new dt,19===n)e.__offset__localSubr__global__=u;else if(15===n)e.__offset__charset__global__=u;else if(16===n)e.__offset__encoding__global__=u;else if(17===n)e.__offset__charstring__global__=u;else if(18===n)if(0===a)u=new Ct,e.__length__privateDict__global__.push(u);else{if(1!==a)throw'ERR';e.__offset__privateDict__global__.push(u)}else 3108===n?e.__offset__fdArray__global__=u:3109===n&&(e.__offset__fdSelect__global__=u);else if(-107<=r[a]&&r[a]<=107)i.set(r[a]+139),u=null;else if(108<=r[a]&&r[a]<=1131)i.set((r[a]-108&65280)/256+247),u.set(r[a]-108&255);else if(-1131<=r[a]&&r[a]<=-108)i.set((-r[a]-108&65280)/256+251),u.set(256- -1*(-r[a]-108&255));else if(-32767<=r[a]&&r[a]<=32768)i.set(28),u=new st,u.set(r[a]);else{if(!(-2147483648<=r[a]&&r[a]<=2147483647))throw'number is over range.';i.set(29),u=new ft,u.set(r[a])}i.C(e),null!=u&&u.C(e)}else{if(r[a]!==parseFloat(r[a]))throw'not support type';i.set(30),i.C(e);var f=r[a].toString();f=f.split('');for(var h=0;h<f.length;h=h+1|0)f[h].match(/[0-9]/)&&(f[h]=parseInt(f[h])),'.'===f[h]&&(f[h]=10),'-'===f[h]&&(f[h]=14);f.push(15);for(var h=0;h<f.length;h+=2){var l=f[h],c=null!=f[h+1]?f[h+1]:15;u.set(l<<4|c),u.C(e)}}}n>=3072?(o.set(12),s.set(n-3072),o.C(e),s.C(e)):(o.set(n),o.C(e))};var De=function(){this.data=null};De.prototype.C=function(t){t.data.set(this.data,t.offset),t.offset+=this.data.length},Z.Table.NameINDEX=function(t){Z.Table.INDEX.call(this,t)},r(Z.Table.NameINDEX,Z.Table.INDEX),Z.Table.NameINDEX.prototype.D=function(t){this.undefined(t);for(var e=0;e<this.count.get();e=e+1|0){var n=this.offset[e+1].get()-this.offset[e].get(),r=new ye;r.D(t,n),this.data.push(r)}},Z.Table.NameINDEX.prototype.C=function(t){this.undefined(t)},Z.Table.TopDictINDEX=function(t){Z.Table.INDEX.call(this,t)},r(Z.Table.TopDictINDEX,Z.Table.INDEX),Z.Table.TopDictINDEX.prototype.D=function(t){this.undefined(t);for(var e=0;e<this.count.get();e=e+1|0){var n=this.offset[e+1].get()-this.offset[e].get(),r=new _e;r.D(t,n),this.data.push(r)}},Z.Table.TopDictINDEX.prototype.C=function(t){this.undefined(t)},Z.Table.StringINDEX=function(t){Z.Table.INDEX.call(this,t)},r(Z.Table.StringINDEX,Z.Table.INDEX),Z.Table.StringINDEX.prototype.D=function(t){this.undefined(t);for(var e=0;e<this.count.get();e=e+1|0){var n=this.offset[e+1].get()-this.offset[e].get(),r=new ye;r.D(t,n),this.data.push(r)}},Z.Table.StringINDEX.prototype.C=function(t){this.undefined(t)},Z.Table.StringINDEX.prototype.setString=function(t){var e=AdobeStandardStrings.indexOf(t);if(e===-1){for(var n=this.data.length,r=0;r<n;r++){var o=this.data[r];if(o.get()===t)return r+391}return this.data.push(new ye(t)),this.data.length+390}return e},Z.Table.GlobalSubrINDEX=function(t){Z.Table.INDEX.call(this,t)},r(Z.Table.GlobalSubrINDEX,Z.Table.INDEX),Z.Table.GlobalSubrINDEX.prototype.D=function(t){this.undefined(t);for(var e=0;e<this.count.get();e=e+1|0){var n=this.offset[e+1].get()-this.offset[e].get(),r=new De;r.D(t,n),this.data.push(r)}},Z.Table.GlobalSubrINDEX.prototype.C=function(t){this.undefined(t)},Z.Table.CharStringsINDEX=function(t){Z.Table.INDEX.call(this,t)},r(Z.Table.CharStringsINDEX,Z.Table.INDEX),Z.Table.CharStringsINDEX.prototype.D=function(t){this.undefined(t);for(var e=0;e<this.count.get();e=e+1|0){var n=this.offset[e+1].get()-this.offset[e].get(),r=new De;r.D(t,n),this.data.push(r)}},Z.Table.CharStringsINDEX.prototype.C=function(t){this.undefined(t)},Z.Table.LocalSubrINDEX=function(t){Z.Table.INDEX.call(this,t)},r(Z.Table.LocalSubrINDEX,Z.Table.INDEX),Z.Table.LocalSubrINDEX.prototype.D=function(t){this.undefined(t);for(var e=0;e<this.count.get();e=e+1|0){var n=this.offset[e+1].get()-this.offset[e].get(),r=new De;r.D(t,n),this.data.push(r)}},Z.Table.LocalSubrINDEX.prototype.C=function(t){this.undefined(t)},Z.Table.CharsetsFormat0=function(){this.glyphs=[],this.gindex2SID=[]},Z.Table.CharsetsFormat0.prototype.D=function(t,e){this.gindex2SID=[0];for(var n=0;n<e-1;n=n+1|0)this.glyphs[n]=new ce,this.glyphs[n].D(t),this.gindex2SID.push(this.glyphs[n].get())},Z.Table.CharsetsFormat0.prototype.C=function(t){for(var e=0;e<this.glyphs.length;e=e+1|0)this.glyphs[e].C(t)},Z.Table.CharsetsFormat1=function(){this.Range1=[],this.gindex2SID=[]},Z.Table.CharsetsFormat1.prototype.D=function(t,e){for(var n=1,r=e-1;n<=r;){var o=new ce,s=new le;o.D(t),s.D(t),this.Range1.push({first:o,nLeft:s}),n+=s.get()+1}},Z.Table.CharsetsFormat1.prototype.C=function(t){for(var e=0;e<this.Range1.length;e=e+1|0)this.Range1[e].first.C(t),this.Range1[e].nLeft.C(t)},Z.Table.CharsetsFormat2=function(){this.Range2=[],this.gindex2SID=[]},Z.Table.CharsetsFormat2.prototype.D=function(t,e){for(var n=1,r=e-1;n<=r;){var o=new ce,s=new ce;o.D(t),s.D(t),this.Range2.push({first:o,nLeft:s}),n+=s.get()+1}},Z.Table.CharsetsFormat2.prototype.C=function(t){for(var e=0;e<this.Range2.length;e=e+1|0)this.Range2[e].first.C(t),this.Range2[e].nLeft.C(t)},Z.Table.CharsetsFormat2.prototype.set=function(t,e){var n=new ce,r=new ce;n.set(t),r.set(e),this.Range2.push({first:n,nLeft:r})},Z.Table.Charsets=function(){this.format=new le,this.subtable=null},Z.Table.Charsets.prototype.D=function(t,e){if(this.format.D(t),0===this.format.get())this.subtable=new Z.Table.CharsetsFormat0;else if(1===this.format.get())this.subtable=new Z.Table.CharsetsFormat1;else{if(2!==this.format.get())throw this.format.get();this.subtable=new Z.Table.CharsetsFormat2}this.subtable.D(t,e)},Z.Table.Charsets.prototype.C=function(t){this.format.C(t),this.subtable.C(t)},Z.Table.Charsets.prototype.set=function(t){var e=Kt.splitRange(t);this.format.set(2);for(var n=new Z.Table.CharsetsFormat2,r=e.length,o=0;o<r;o++){var s=e[o];n.set(s.start,s.end-s.start)}this.subtable=n},Z.Table.FDSelect=function(){this.format=new le,this.subtable=null},Z.Table.FDSelect.prototype.D=function(t,e){if(this.format.D(t),0===this.format.get())this.subtable=new Z.Table.FDSelectFormat0;else{if(3!==this.format.get())throw this.format.get();this.subtable=new Z.Table.FDSelectFormat3}this.subtable.D(t,e)},Z.Table.FDSelect.prototype.C=function(t){this.format.C(t),this.subtable.C(t)},Z.Table.FDSelectFormat0=function(){this.fds=[],this.gindex2FD=[]},Z.Table.FDSelectFormat0.prototype.D=function(t,e){for(var n=0;n<e;n=n+1|0)this.fds[n]=new le,this.fds[n].D(t),this.gindex2FD[n]=this.fds[n].get()},Z.Table.FDSelectFormat0.prototype.C=function(t){for(var e=0;e<this.fds.length;e=e+1|0)this.fds[e].C(t)},Z.Table.FDSelectFormat3=function(){this.nRanges=new ce,this.Range3=[],this.sentinel=new ce,this.gindex2FD=[]},Z.Table.FDSelectFormat3.prototype.D=function(t,e){this.nRanges.D(t);for(var n=0;n<this.nRanges.get();n=n+1|0){var r=new Z.Table.FDSelectFormat3Range3;r.D(t),this.Range3.push(r)}this.sentinel.D(t);for(var n=0;n<this.Range3.length;n=n+1|0)for(var o=n+1==this.Range3.length?this.sentinel.get():this.Range3[n+1].first.get(),s=this.Range3[n].first.get();s<o;s=s+1|0)this.gindex2FD[s]=this.Range3[n].fd.get()},Z.Table.FDSelectFormat3.prototype.C=function(t){this.nRanges.C(t);for(var e=0;e<this.Range3.length;e=e+1|0)this.Range3[e].C(t);this.sentinel.C(t)},Z.Table.FDSelectFormat3Range3=function(){this.first=new ce,this.fd=new le},Z.Table.FDSelectFormat3Range3.prototype.D=function(t){this.first.D(t),this.fd.D(t)},Z.Table.FDSelectFormat3Range3.prototype.C=function(t){this.first.C(t),this.fd.C(t)},Z.Table.FDArray=function(t){Z.Table.INDEX.call(this,t)},r(Z.Table.FDArray,Z.Table.INDEX),Z.Table.FDArray.prototype.D=function(t){this.undefined(t);for(var e=0;e<this.count.get();e=e+1|0){var n=this.offset[e+1].get()-this.offset[e].get(),r=new _e;r.D(t,n),this.data.push(r)}},Z.Table.FDArray.prototype.C=function(t){this.undefined(t)};var we=function(){this.tag='Coverage',this.CoverageFormat=new ht,this.Coverage=null};we.prototype.D=function(t){if(this.CoverageFormat.D(t),1===this.CoverageFormat.get())this.Coverage=new be;else{if(2!==this.CoverageFormat.get())throw['unknown type',this.CoverageFormat.get()];this.Coverage=new Se}this.Coverage.D(t)},we.prototype.getRanges=function(){return this.Coverage.getRanges()};var be=function(){this.tag='CoverageFormat1',this.GlyphCount=new ht,this.GlyphID=[]};be.prototype.D=function(t){this.GlyphCount.D(t);for(var e=this.GlyphCount.get(),n=0;n<e;n=n+1|0)this.GlyphID[n]=new pt,this.GlyphID[n].D(t)},be.prototype.getRanges=function(){for(var t={},e=this.GlyphID.length,n=0;n<e;n++)t[this.GlyphID[n].get()]=n;return t};var Se=function(){this.tag='CoverageFormat2',this.RangeCount=new ht,this.RangeRecord=[]};Se.prototype.D=function(t){this.RangeCount.D(t);for(var e=this.RangeCount.get(),n=0;n<e;n=n+1|0)this.RangeRecord[n]=new Te,this.RangeRecord[n].D(t)},Se.prototype.getRanges=function(){for(var t={},e=this.RangeRecord.length,n=0;n<e;n=n+1|0)for(var r=this.RangeRecord[n],o=0,s=r.End.get(),a=r.Start.get();a<=s;a++)t[a]=r.StartCoverageIndex.get()+o++;return t};var Te=function(){this.tag='CoverageFormat2Range',this.Start=new pt,this.End=new pt,this.StartCoverageIndex=new ht};Te.prototype.D=function(t){this.Start.D(t),this.End.D(t),this.StartCoverageIndex.D(t)};var Ie=function(){
this.tag='DeviceTable',this.StartSize=new ht,this.EndSize=new ht,this.DeltaFormat=new ht,this.DeltaValue={}};Ie.prototype.D=function(t){this.StartSize.D(t),this.EndSize.D(t),this.DeltaFormat.D(t);for(var e=this.EndSize.get(),n=this.StartSize.get();n<=e;n=n+1|0)this.DeltaValue[n]=new ht,this.DeltaValue[n].D()};var Re=function(){this.tag='ClassDef',this.ClassFormat=new ht,this.ClassDef=null};Re.prototype.D=function(t){if(this.ClassFormat.D(t),1===this.ClassFormat.get())this.ClassDef=new Fe;else{if(2!==this.ClassFormat.get())throw'unknown type';this.ClassDef=new Ee}this.ClassDef.D(t)},Re.prototype.getCluster=function(){return this.ClassDef.getCluster()};var Fe=function(){this.tag='ClassDefFormat1',this.StartGlyph=new pt,this.GlyphCount=new ht,this.ClassValueArray=[]};Fe.prototype.D=function(t){this.StartGlyph.D(t),this.GlyphCount.D(t);for(var e=this.GlyphCount.get(),n=0;n<e;n=n+1|0)this.ClassValueArray[n]=new ht,this.ClassValueArray[n].D(t)},Fe.prototype.getCluster=function(){for(var t={},e=this.StartGlyph.get(),n=this.GlyphCount.get(),r=0;r<n;r=r+1|0){var o=this.ClassValueArray[r].get();'undefined'==typeof t[o]&&(t[o]=[]),t[o].push(e+r)}return t};var Ee=function(){this.tag='ClassDefFormat2',this.ClassRangeCount=new ht,this.ClassRangeRecord=[]};Ee.prototype.D=function(t){this.ClassRangeCount.D(t);for(var e=this.ClassRangeCount.get(),n=0;n<e;n=n+1|0)this.ClassRangeRecord[n]=new ke,this.ClassRangeRecord[n].D(t)},Ee.prototype.getCluster=function(){for(var t={},e=this.ClassRangeRecord.length,n=0;n<e;n=n+1|0){var r=this.ClassRangeRecord[n],o=r.Class.get();'undefined'==typeof t[o]&&(t[o]=[]);for(var s=r.End.get(),a=r.Start.get();a<=s;a=a+1|0)t[o].push(a)}return t};var ke=function(){this.tag='ClassRangeRecord',this.Start=new pt,this.End=new pt,this.Class=new ht};ke.prototype.D=function(t){this.Start.D(t),this.End.D(t),this.Class.D(t)};var Ae=function(){this.tag='ScriptList',this.ScriptCount=new ht,this.ScriptRecord=[]};Ae.prototype.D=function(t){var e=t.offset;this.ScriptCount.D(t);for(var n=this.ScriptCount.get(),r=0;r<n;r=r+1|0)this.ScriptRecord[r]=new Me,this.ScriptRecord[r].D(t,e)};var Me=function(){this.tag='ScriptRecord',this.ScriptTag=new _t,this.Script=new gt(Le)};Me.prototype.D=function(t,e){this.ScriptTag.D(t),this.Script.D(t,e,!0)};var Le=function(){this.tag='Script',this.DefaultLangSys=new gt(xe),this.LangSysCount=new ht,this.LangSysRecord=[]};Le.prototype.D=function(t){var e=t.offset;this.DefaultLangSys.D(t,e,!0),this.LangSysCount.D(t);for(var n=this.LangSysCount.get(),r=0;r<n;r=r+1|0)this.LangSysRecord[r]=new Oe,this.LangSysRecord[r].D(t,e)};var Oe=function(){this.tag='LangSysRecord',this.LangSysTag=new _t,this.LangSys=new gt(xe)};Oe.prototype.D=function(t,e){this.LangSysTag.D(t),this.LangSys.D(t,e,!0)};var xe=function(){this.tag='LangSys',this.LookupOrder=new ht,this.ReqFeatureIndex=new ht,this.FeatureCount=new ht,this.FeatureIndex=[]};xe.prototype.D=function(t){this.LookupOrder.D(t),this.ReqFeatureIndex.D(t),this.FeatureCount.D(t);for(var e=this.FeatureCount.get(),n=0;n<e;n=n+1|0)this.FeatureIndex[n]=new ht,this.FeatureIndex[n].D(t)};var Ne=function(){this.tag='FeatureList',this.FeatureCount=new ht,this.FeatureRecord=[]};Ne.prototype.D=function(t){var e=t.offset;this.FeatureCount.D(t);for(var n=this.FeatureCount.get(),r=0;r<n;r=r+1|0)this.FeatureRecord[r]=new Ge,this.FeatureRecord[r].D(t,e)};var Ge=function(){this.tag='FeatureRecord',this.FeatureTag=new _t,this.Feature=new gt(Pe)};Ge.prototype.D=function(t,e){this.FeatureTag.D(t),this.Feature.D(t,e,!0)};var Pe=function(){this.tag='Feature',this.FeatureParams=new ht,this.LookupCount=new ht,this.LookupListIndex=[]};Pe.prototype.D=function(t){t.offset;this.FeatureParams.D(t),this.LookupCount.D(t);for(var e=this.LookupCount.get(),n=0;n<e;n=n+1|0)this.LookupListIndex[n]=new ht,this.LookupListIndex[n].D(t)};var Be=function(t){this.tag='LookupList',this._tableType=t[1],this.LookupCount=new ht,this.Lookup=[]};Be.prototype.D=function(t){var e=t.offset;this.LookupCount.D(t);for(var n=this.LookupCount.get(),r=0;r<n;r=r+1|0)this.Lookup[r]=new gt(Ve,this),this.Lookup[r].D(t,e,!0)};var Ve=function(t){this.tag='Lookup',this.parent=t[1],this.LookupType=new ht,this.LookupFlag=new ht,this.SubTableCount=new ht,this.SubTable=[],this.MarkFilteringSet=new ht};Ve.prototype.D=function(t){var e=t.offset;this.LookupType.D(t),this.LookupFlag.D(t),this.SubTableCount.D(t);var n=this._getLookUpTable(this.parent._tableType,this.LookupType.get());if(null===n)throw['unknown format',this.parent._tableType,this.LookupType.get()];for(var r=this.SubTableCount.get(),o=0;o<r;o=o+1|0)this.SubTable[o]=new gt(n,this.parent),this.SubTable[o].D(t,e,!0);this.MarkFilteringSet.D(t)},Ve.prototype.substitute=function(t){for(var e=[],n=this.SubTable.length,r=0;r<n;r=r+1|0)e.push(this.SubTable[r]._ref.substitute(t,this.parent));return e.filter(function(t){return t.length>0})},Ve.prototype.positioning=function(t){for(var e=[],n=this.SubTable.length,r=0;r<n;r=r+1|0)e.push(this.SubTable[r]._ref.positioning(t,this.parent));return e.filter(function(t){return t.length>0})},Ve.prototype._getLookUpTable=function(t,e){var n=null;if('GSUB'===t)switch(e){case 1:n=Ue;break;case 2:n=je;break;case 3:n=We;break;case 4:n=ze;break;case 5:n=Je;break;case 6:n=an;break;case 7:n=vn;break;case 8:n=Cn}else{if('GPOS'!==t)throw'unknown Table:'+t+':'+e;switch(e){case 1:n=C_GPOSLookUp1;break;case 2:n=C_GPOSLookUp2;break;case 3:n=C_GPOSLookUp3;break;case 4:n=C_GPOSLookUp4;break;case 5:n=C_GPOSLookUp5;break;case 6:n=C_GPOSLookUp6;break;case 7:n=C_GPOSLookUp7;break;case 8:n=C_GPOSLookUp8;break;case 9:n=C_GPOSLookUp9}}return n};var Xe=function(){this.tag='GSUB',this.Version=new yt,this.ScriptList=new gt(Ae,this.tag),this.FeatureList=new gt(Ne,this.tag),this.LookupList=new gt(Be,this.tag)};Xe.prototype.D=function(t){var e=t.offset;this.Version.D(t),this.ScriptList.D(t,e,!0),this.FeatureList.D(t,e,!0),this.LookupList.D(t,e,!0)},Xe.prototype.subGID=function(t,e,n,r,o){var s=this,a=s.ScriptList._ref.ScriptRecord.filter(function(e){return null===t||t.indexOf(e.ScriptTag.get())!==-1}),i=[];a.map(function(t){null!==t.Script._ref.DefaultLangSys._ref&&(i=i.concat(t.Script._ref.DefaultLangSys._ref.FeatureIndex.map(function(t){return t.get()}))),t.Script._ref.LangSysRecord.map(function(t){null!==e&&e.indexOf(t.LangSysTag.get())===-1||(i=i.concat(t.LangSys._ref.FeatureIndex.map(function(t){return t.get()})))})}),i=c(i);var u=[],f={};i.map(function(t){var e=s.FeatureList._ref.FeatureRecord[t],n=e.FeatureTag.get();u.push(n),n in f||(f[n]=[]),Array.prototype.push.apply(f[n],e.Feature._ref.LookupListIndex.map(function(t){return t.get()}))});for(var h in f)f[h]=c(f[h]);var l=[];return c(u).map(function(t){if(null===n||n.indexOf(t)!==-1){var e=[].concat(o),r=[];f[t].map(function(t){s.LookupList._ref.Lookup[t]._ref.substitute(e).map(function(t,n,o){var s=[];t.map(function(t,e,n){s=s.concat(t.sub)}),e=e.concat(s),r=r.concat(s)})}),l=l.concat(r)}}),l};var Ue=function(){this.tag='LookUp1',this.LookupType=1,this.SubstFormat=new ht,this.Subst=null,this.sOffset=null,this.stream=null,this.pack=!0};Ue.prototype.D=function(t){this.sOffset=t.offset,this.stream=t},Ue.prototype.undefined=function(){var t=this.stream.offset;if(this.stream.offset=this.sOffset,this.SubstFormat.D(this.stream),1===this.SubstFormat.get())this.Subst=new He;else{if(2!==this.SubstFormat.get())throw'unknown type';this.Subst=new $e}this.Subst.D(this.stream,this.sOffset,!0),this.pack=!1,this.stream.offset=t},Ue.prototype.substitute=function(t){return this.pack&&this.undefined(),this.Subst.substitute(t)};var He=function(){this.tag='SubstFormat1',this.Coverage=new gt(we,this.tag),this.DeltaGlyphID=new lt};He.prototype.D=function(t,e){this.Coverage.D(t,e,!0),this.DeltaGlyphID.D(t)},He.prototype.substitute=function(t){var e=[],n=this.Coverage._ref.getRanges(),r=a(n).keys.map(function(t){return parseInt(t)});null!==t&&(r=K(t,r));for(var o=r.length,s=0;s<o;s=s+1|0)e.push({org:[r[s]],sub:[parseInt(r[s])+this.DeltaGlyphID.get()]});return e};var $e=function(){this.tag='SubstFormat2',this.Coverage=new gt(we,this.tag),this.GlyphCount=new ht,this.Substitute=[]};$e.prototype.D=function(t,e){this.Coverage.D(t,e,!0),this.GlyphCount.D(t);for(var n=this.GlyphCount.get(),r=0;r<n;r=r+1|0)this.Substitute[r]=new pt,this.Substitute[r].D(t,e,!0)},$e.prototype.substitute=function(t){var e=[],n=this.Coverage._ref.getRanges(),r=a(n).keys.map(function(t){return parseInt(t)});null!==t&&(r=K(r,t));for(var o=r.length,s=0;s<o;s=s+1|0)e.push({org:[r[s]],sub:[this.Substitute[parseInt(n[parseInt(r[s])])].get()]});return e};var je=function(){this.tag='LookUp2',this.LookupType=2,this.SubstFormat=new ht,this.Coverage=new gt(we,this.tag),this.SequenceCount=new ht,this.Sequence=[],this.sOffset=null,this.stream=null,this.pack=!0};je.prototype.D=function(t){this.sOffset=t.offset,this.stream=t},je.prototype.undefined=function(){var t=this.stream.offset;this.stream.offset=this.sOffset,this.SubstFormat.D(this.stream,this.sOffset),this.Coverage.D(this.stream,this.sOffset,!0),this.SequenceCount.D(this.stream,this.sOffset);for(var e=this.SequenceCount.get(),n=0;n<e;n=n+1|0)this.Sequence[n]=new gt(qe),this.Sequence[n].D(this.stream,this.sOffset,!0);this.pack=!1,this.stream.offset=t},je.prototype.substitute=function(t){this.pack&&this.undefined();var e=[],n=this.Coverage._ref.getRanges(),r=a(n).keys.map(function(t){return parseInt(t)});null!==t&&(r=K(r,t));for(var o=r.length,s=0;s<o;s=s+1|0)e.push({org:[r[s]],sub:this.Sequence[n[r[s]]]._ref.Substitute.map(function(t){return t.get()})});return e};var qe=function(){this.tag='Sequence',this.GlyphCount=new ht,this.Substitute=[]};qe.prototype.D=function(t){var e=t.offset;this.GlyphCount.D(t,e);for(var n=this.GlyphCount.get(),r=0;r<n;r=r+1|0)this.Substitute[r]=new pt,this.Substitute[r].D(t)};var We=function(){this.tag='LookUp3',this.LookupType=3,this.SubstFormat=new ht,this.Coverage=new gt(we,this.tag),this.AlternateSetCount=new ht,this.AlternateSet=[],this.sOffset=null,this.stream=null,this.pack=!0};We.prototype.D=function(t){this.sOffset=t.offset,this.stream=t},We.prototype.undefined=function(){var t=this.stream.offset;this.stream.offset=this.sOffset,this.SubstFormat.D(this.stream),this.Coverage.D(this.stream,this.sOffset,!0),this.AlternateSetCount.D(this.stream);for(var e=this.AlternateSetCount.get(),n=0;n<e;n=n+1|0)this.AlternateSet[n]=new gt(Ke),this.AlternateSet[n].D(this.stream,this.sOffset,!0);this.pack=!1,this.stream.offset=t},We.prototype.substitute=function(t){this.pack&&this.undefined();var e=[],n=this.Coverage._ref.getRanges(),r=a(n).keys.map(function(t){return parseInt(t)});null!==t&&(r=K(r,t));for(var o=r.length,s=0;s<o;s=s+1|0)e.push({org:[r[s]],sub:this.AlternateSet[n[r[s]]]._ref.Alternate.map(function(t){return t.get()})});return e};var Ke=function(){this.tag='AlternateSet',this.GlyphCount=new ht,this.Alternate=[]};Ke.prototype.D=function(t){var e=t.offset;this.GlyphCount.D(t,e);for(var n=this.GlyphCount.get(),r=0;r<n;r=r+1|0)this.Alternate[r]=new pt,this.Alternate[r].D(t)};var ze=function(){this.tag='LookUp4',this.LookupType=4,this.SubstFormat=new ht,this.Coverage=new gt(we,this.tag),this.LigSetCount=new ht,this.LigatureSet=[],this.sOffset=null,this.stream=null,this.pack=!0};ze.prototype.D=function(t){this.sOffset=t.offset,this.stream=t},ze.prototype.undefined=function(){var t=this.stream.offset;this.stream.offset=this.sOffset,this.SubstFormat.D(this.stream),this.Coverage.D(this.stream,this.sOffset,!0),this.LigSetCount.D(this.stream);for(var e=this.LigSetCount.get(),n=0;n<e;n=n+1|0)this.LigatureSet[n]=new gt(Ye),this.LigatureSet[n].D(this.stream,this.sOffset,!0);this.pack=!1,this.stream.offset=t},ze.prototype.substitute=function(t){this.pack&&this.undefined();for(var e=[],n=this.Coverage._ref.getRanges(),r=a(n).keys.map(function(t){return parseInt(t)}),o=r.length,s=0;s<o;s++)if(null===t||t.indexOf(r[s])!==-1)for(var i=this.LigatureSet[n[r[s]]]._ref,u=i.Ligature.length,f=0;f<u;f=f+1|0){var h=i.Ligature[f]._ref,l=h.Component.map(function(t){return t.get()});if(null===t||K(t,l).length===c(l).length){var p=[r[s]];p=p.concat(l),e.push({org:p,sub:[h.LigGlyph.get()]})}}return e};var Ye=function(){this.tag='LigatureSet',this.LigatureCount=new ht,this.Ligature=[]};Ye.prototype.D=function(t){var e=t.offset;this.LigatureCount.D(t,e);for(var n=this.LigatureCount.get(),r=0;r<n;r=r+1|0)this.Ligature[r]=new gt(Ze),this.Ligature[r].D(t,e,!0)};var Ze=function(){this.tag='Ligature',this.LigGlyph=new pt,this.CompCount=new ht,this.Component=[]};Ze.prototype.D=function(t,e){t.offset;this.LigGlyph.D(t),this.CompCount.D(t);for(var n=this.CompCount.get()-1,r=0;r<n;r=r+1|0)this.Component[r]=new pt,this.Component[r].D(t)};var Je=function(t){this.LookupType=5,this.LookUpList=t[1],this.SubstFormat=new ht,this.Subst=null,this.sOffset=null,this.stream=null,this.pack=!0};Je.prototype.D=function(t){this.sOffset=t.offset,this.stream=t},Je.prototype.undefined=function(){var t=this.stream.offset;if(this.stream.offset=this.sOffset,this.SubstFormat.D(this.stream),1===this.SubstFormat.get())this.Subst=new Qe;else if(2===this.SubstFormat.get())this.Subst=new nn;else{if(3!==this.SubstFormat.get())throw'不明なフォーマットです';this.Subst=new sn}this.Subst.D(this.stream,this.sOffset),this.pack=!1,this.stream.offset=t},Je.prototype.C=function(){var t=stream.offset;this.SubstFormat.C(stream),this.Subst.C(stream,t)},Je.prototype.substitute=function(t){return this.pack&&this.undefined(),this.Subst.substitute(t,this.LookUpList)};var Qe=function(){this.Coverage=new gt(we,this.tag),this.SubRuleSetCount=new ht,this.SubRuleSet=[]};Qe.prototype.D=function(t,e){this.Coverage.D(t,e,!0),this.SubRuleSetCount.D(t);for(var n=this.SubRuleSetCount.get(),r=0;r<n;r=r+1|0)this.SubRuleSet[r]=new gt(tn),this.SubRuleSet[r].D(t,e,!0)},Qe.prototype.substitute=function(t,e){throw'NOT IMP SUB 5-1'};var tn=function(){this.SubRuleCount=new ht,this.SubRule=[]};tn.prototype.D=function(t,e){this.SubRuleCount.D(t,e);for(var n=this.SubRuleCount.get(),r=0;r<n;r=r+1|0)this.SubRule[r]=new gt(en),this.SubRule[r].D(t,e,!0)};var en=function(){this.GlyphCount=new ht,this.SubstCount=new ht,this.Input=[],this.SubstLookupRecord=[]};en.prototype.D=function(t,e){this.GlyphCount.D(t),this.SubstCount.D(t);for(var n=this.GlyphCount.get()-1,r=0;r<n;r=r+1|0)this.Input[r]=new pt,this.Input[r].D(t);for(var o=this.SubstCount.get(),r=0;r<o;r=r+1|0)this.SubstLookupRecord[r]=new dn,this.SubstLookupRecord[r].D(t)};var nn=function(){this.Coverage=new gt(we,this.tag),this.ClassDef=new gt(Re,this.tag),this.SubClassSetCnt=new ht,this.SubClassSet=[]};nn.prototype.D=function(t,e){this.Coverage.D(t,e,!0),this.ClassDef.D(t,e,!0),this.SubClassSetCnt.D(t);for(var n=this.SubClassSetCnt.get(),r=0;r<n;r=r+1|0)this.SubClassSet[r]=new gt(rn),this.SubClassSet[r].D(t,e,!0)},nn.prototype.substitute=function(t,e){var n=this.Coverage._ref.getRanges(),r=a(n).keys.map(function(t){return parseInt(t)});if(null!==t&&0===K(t,r).length)return[];for(var o=this.ClassDef._ref.getCluster(),s=[],i=this.SubClassSet.length,u=0;u<i;u=u+1|0){var f=this.SubClassSet[u];if(null!==f._ref)for(var h=f._ref.SubClassRule.length,l=0;l<h;l=l+1|0){var c=f._ref.SubClassRule[l]._ref;if(null===t||0!==K(t,o[u]).length){for(var p=!1,g=c.Class.length,d=0;d<g;d=d+1|0)if(null!==t&&0===K(t,o[c.Class[d].get()]).length){p=!0;break}if(!p)for(var v=c.SubstLookupRecord.length,d=0;d<v;d=d+1|0){var C=c.SubstLookupRecord[d];e.Lookup[C.LookupListIndex.get()]._ref.substitute(t).map(function(t){s=s.concat(t)})}}}}return s};var rn=function(){this.SubClassRuleCnt=new ht,this.SubClassRule=[]};rn.prototype.D=function(t){var e=t.offset;this.SubClassRuleCnt.D(t,e);for(var n=this.SubClassRuleCnt.get(),r=0;r<n;r=r+1|0)this.SubClassRule[r]=new gt(on),this.SubClassRule[r].D(t,e,!0)};var on=function(){this.GlyphCount=new ht,this.SubstCount=new ht,this.Class=[],this.SubstLookupRecord=[]};on.prototype.D=function(t,e){this.GlyphCount.D(t),this.SubstCount.D(t);for(var n=this.GlyphCount.get()-1,r=0;r<n;r=r+1|0)this.Class[r]=new ht,this.Class[r].D(t);for(var o=this.SubstCount.get(),r=0;r<o;r=r+1|0)this.SubstLookupRecord[r]=new dn,this.SubstLookupRecord[r].D(t)};var sn=function(){this.GlyphCount=new ht,this.SubstCount=new ht,this.Coverage=[],this.SubstLookupRecord=[]};sn.prototype.D=function(t,e){this.GlyphCount.D(t,e,!0),this.SubstCount.D(t,e,!0);for(var n=this.GlyphCount.get(),r=0;r<n;r=r+1|0)this.Coverage[r]=new gt(we,this.tag),this.Coverage[r].D(t,e,!0);for(var o=this.SubstCount.get(),r=0;r<o;r=r+1|0)this.SubstLookupRecord[r]=new dn,this.SubstLookupRecord[r].D(t)},sn.prototype.substitute=function(t,e){throw'NOT IMP SUB 5-3'};var an=function(t){var e=this;e.LookupType=6,e.LookUpList=t[1],e.SubstFormat=new ht,e.Subst=null,e.sOffset=null,e.stream=null,e.pack=!0};an.prototype.D=function(t){var e=this;e.stream=t,e.sOffset=t.offset},an.prototype.undefined=function(){var t=this,e=t.stream.offset;if(t.stream.offset=t.sOffset,t.SubstFormat.D(t.stream),1===t.SubstFormat.get())t.Subst=new un;else if(2===t.SubstFormat.get())t.Subst=new ln;else{if(3!==t.SubstFormat.get())throw'不明なフォーマットです';t.Subst=new gn}t.Subst.D(t.stream,t.sOffset),t.stream.offset=e,t.pack=!1},an.prototype.substitute=function(t,e){var n=this;return n.pack&&n.undefined(),n.Subst.substitute(t,e)};var un=function(){var t=this;t.Coverage=new gt(we,t.tag),t.ChainSubRuleSetCount=new ht,t.ChainSubRuleSet=[]};un.prototype.D=function(t,e){var n=this;n.Coverage.D(t,e,!0),n.ChainSubRuleSetCount.D(t,e,!0);for(var r=n.ChainSubRuleSetCount.get(),o=0;o<r;o=o+1|0)n.ChainSubRuleSet[o]=new gt(fn),n.ChainSubRuleSet[o].D(t,e,!0)},un.prototype.substitute=function(t){throw'NOT IMP SUB 6-1'};var fn=function(){var t=this;t.ChainSubRuleCount=new ht,t.ChainSubRule=[]};fn.prototype.D=function(t,e){var n=this;n.ChainSubRuleCount.D(t,e,!0);for(var r=n.ChainSubRuleCount.get(),o=0;o<r;o=o+1|0)n.ChainSubRule[o]=new gt(hn),n.ChainSubRule[o].D(t,e,!0)};var hn=function(){var t=this;t.BacktrackGlyphCount=new ht,t.Backtrack=[],t.InputGlyphCount=new ht,t.Input=[],t.LookaheadGlyphCount=new ht,t.LookAhead=[],t.SubstCount=new ht,t.SubstLookupRecord=[]};hn.prototype.D=function(t,e){var n=this,r=n.BacktrackGlyphCount.get();n.BacktrackGlyphCount.D(t);for(var o=0;o<r;o=o+1|0)n.Backtrack[o]=new pt,n.Backtrack[o].D(t);r=n.InputGlyphCount.get(),n.InputGlyphCount.D(t);for(var o=0;o<r-1;o=o+1|0)n.Input[o]=new pt,n.Input[o].D(t);r=n.LookaheadGlyphCount.get(),n.LookaheadGlyphCount.D(t);for(var o=0;o<r;o=o+1|0)n.LookAhead[o]=new pt,n.LookAhead[o].D(t);r=n.SubstCount.get(),n.SubstCount.D(t);for(var o=0;o<r;o=o+1|0)n.SubstLookupRecord[o]=new dn,n.SubstLookupRecord[o].D(t)};var ln=function(){var t=this;t.Coverage=new gt(we,t.tag),t.BacktrackClassDef=new gt(Re,t.tag),t.InputClassDef=new gt(Re,t.tag),t.LookaheadClassDef=new gt(Re,t.tag),t.ChainSubClassSetCnt=new ht,t.ChainSubClassSet=[]};ln.prototype.D=function(t,e){var n=this;n.Coverage.D(t,e,!0),n.BacktrackClassDef.D(t,e,!0),n.InputClassDef.D(t,e,!0),n.LookaheadClassDef.D(t,e,!0),n.ChainSubClassSetCnt.D(t);for(var r=n.ChainSubClassSetCnt.get(),o=0;o<r;o=o+1|0)n.ChainSubClassSet[o]=new gt(cn),n.ChainSubClassSet[o].D(t,e,!0)},ln.prototype.substitute=function(t,e){var n=this,r=n.Coverage._ref.getRanges(),o=a(r).keys.map(function(t){return parseInt(t)});if(null!==t&&0===K(t,o).length)return[];for(var s=n.BacktrackClassDef._ref.getCluster(),i=n.InputClassDef._ref.getCluster(),u=n.LookaheadClassDef._ref.getCluster(),f=[],h=n.ChainSubClassSet.length,l=0;l<h;l=l+1|0){var c=n.ChainSubClassSet[l];if(null!==c._ref)for(var p=c._ref.ChainSubClassRule.length,g=0;g<p;g=g+1|0){var d=c._ref.ChainSubClassRule[g]._ref;if(null===t||0!==K(t,i[l]).length){for(var v=!1,C=d.Input.length,y=0;y<C;y=y+1|0)if(null!==t&&0===K(t,i[d.Input[y].get()]).length){v=!0;break}if(!v){v=!1;for(var m=d.Backtrack.length,y=0;y<m;y=y+1|0)if(null!==t&&0===K(t,s[d.Backtrack[y].get()]).length){v=!0;break}if(!v){v=!1;for(var _=d.LookAhead.length,y=0;y<_;y=y+1|0)if(null!==t&&0===K(t,u[d.LookAhead[y].get()]).length){v=!0;break}if(!v)for(var D=d.SubstLookupRecord.length,y=0;y<D;y=y+1|0){var w=d.SubstLookupRecord[y];e.Lookup[w.LookupListIndex.get()]._ref.substitute(t).map(function(e){null===t&&e.map(function(t){t.backtracks=s,t.lookaheads=u}),f=f.concat(e)})}}}}}}return f};var cn=function(){var t=this;t.ChainSubClassRuleCnt=new ht,t.ChainSubClassRule=[]};cn.prototype.D=function(t){var e=this,n=t.offset;e.ChainSubClassRuleCnt.D(t);for(var r=e.ChainSubClassRuleCnt.get(),o=0;o<r;o=o+1|0)e.ChainSubClassRule[o]=new gt(pn),e.ChainSubClassRule[o].D(t,n,!0)};var pn=function(){var t=this;t.BacktrackGlyphCount=new ht,t.Backtrack=[],t.InputGlyphCount=new ht,t.Input=[],t.LookaheadGlyphCount=new ht,t.LookAhead=[],t.SubstCount=new ht,t.SubstLookupRecord=[]};pn.prototype.D=function(t,e){var n=this;n.BacktrackGlyphCount.D(t);for(var r=n.BacktrackGlyphCount.get(),o=0;o<r;o=o+1|0)n.Backtrack[o]=new ht,n.Backtrack[o].D(t);n.InputGlyphCount.D(t);for(var s=n.InputGlyphCount.get()-1,o=0;o<s;o=o+1|0)n.Input[o]=new ht,n.Input[o].D(t);n.LookaheadGlyphCount.D(t);for(var a=n.LookaheadGlyphCount.get(),o=0;o<a;o=o+1|0)n.LookAhead[o]=new ht,n.LookAhead[o].D(t);n.SubstCount.D(t);for(var i=n.SubstCount.get(),o=0;o<i;o=o+1|0)n.SubstLookupRecord[o]=new dn,n.SubstLookupRecord[o].D(t)};var gn=function(){var t=this;t.BacktrackGlyphCount=new ht,t.BacktrackGlyphCoverage=[],t.InputGlyphCount=new ht,t.InputGlyphCoverage=[],t.LookaheadGlyphCount=new ht,t.LookaheadCoverage=[],t.SubstCount=new ht,t.SubstLookupRecord=[]};gn.prototype.D=function(t,e){var n=this;n.BacktrackGlyphCount.D(t);for(var r=n.BacktrackGlyphCount.get(),o=0;o<r;o=o+1|0)n.BacktrackGlyphCoverage[o]=new gt(we,n.tag),n.BacktrackGlyphCoverage[o].D(t,e,!0);n.InputGlyphCount.D(t);for(var s=n.InputGlyphCount.get(),o=0;o<s;o=o+1|0)n.InputGlyphCoverage[o]=new gt(we,n.tag),n.InputGlyphCoverage[o].D(t,e,!0);n.LookaheadGlyphCount.D(t);for(var a=n.LookaheadGlyphCount.get(),o=0;o<a;o=o+1|0)n.LookaheadCoverage[o]=new gt(we,n.tag),n.LookaheadCoverage[o].D(t,e,!0);n.SubstCount.D(t);for(var i=n.SubstCount.get(),o=0;o<i;o=o+1|0)n.SubstLookupRecord[o]=new dn,n.SubstLookupRecord[o].D(t)},gn.prototype.substitute=function(t,e){for(var n=this,r=[],o=[],s=[],i=n.BacktrackGlyphCoverage.length,u=0;u<i;u=u+1|0){var f=n.BacktrackGlyphCoverage[u]._ref.getRanges(),h=a(f).keys.map(function(t){return parseInt(t)});if(null!==t&&0===K(h,t).length)return r;null===t&&o.push(h)}for(var l=n.LookaheadCoverage.length,u=0;u<l;u=u+1|0){var f=n.LookaheadCoverage[u]._ref.getRanges(),h=a(f).keys.map(function(t){return parseInt(t)});if(null!==t&&0===K(h,t).length)return r;null===t&&s.push(h)}for(var p=[],g=n.InputGlyphCoverage.length,u=0;u<g;u=u+1|0){var f=n.InputGlyphCoverage[u]._ref.getRanges(),h=a(f).keys.map(function(t){return parseInt(t)});if(null!==t&&0===K(h,t).length)return r;p=p.concat(h)}p=c(p);for(var d=n.SubstLookupRecord.length,u=0;u<d;u=u+1|0){var v=n.SubstLookupRecord[u];e.Lookup[v.LookupListIndex.get()]._ref.substitute(t).map(function(e){null===t&&e.map(function(t){t.backtracks=o,t.lookaheads=s}),r=r.concat(e)})}return r};var dn=function(){var t=this;t.SequenceIndex=new ht,t.LookupListIndex=new ht};dn.prototype.D=function(t){var e=this;e.SequenceIndex.D(t),e.LookupListIndex.D(t)};var vn=function(t){var e=this;e.LookUpList=t[1],e.LookupType=7,e.SubstFormat=new ht,e.ExtensionLookupType=new ht,e.ExtensionOffset=null,e.sOffset=null,e.stream=null,e.pack=!0};vn.prototype.D=function(t){var e=this;e.stream=t,e.sOffset=t.offset},vn.prototype.undefined=function(){var t=this,e=t.stream.offset;t.stream.offset=t.sOffset,t.SubstFormat.D(t.stream),t.ExtensionLookupType.D(t.stream);var n=Ve.prototype._getLookUpTable('GSUB',t.ExtensionLookupType.get());if(null===typeof n)throw'FORMAT7からインスタンスが生成できませんでした。';t.ExtensionOffset=new dt(n),t.ExtensionOffset.D(t.stream,t.sOffset,!0),t.stream.offset=e,t.pack=!1},vn.prototype.substitute=function(t){var e=this;return e.pack&&e.undefined(),e.ExtensionOffset._ref.substitute(t,e.LookUpList)};var Cn=function(){this.LookupType=8};Cn.prototype.D=function(t){},Cn.prototype.C=function(){},Cn.prototype.substitute=function(){throw'NOT IMPREMENT'};var yn=function(t,e){var n=this;n.$fontName=t,n.$store=e,n.$GID={},n.$cmap={},n.$meta=null,n.$addMeta=null,n.$cluster=null,n.$GSUBCache=null,n.$blob=null,n.$url=window.location.href};yn.prototype.collect=function(t,e){var n=this;(new Date).getTime();return new Promise(function(r,o){Promise.all([n.meta(),n.layout(),n.code(t)]).then(function(){n.$meta=T(n.$meta,n.$addMeta)}).then(function(e){return n.glyf(t)}).then(function(){t.finalize()}).then(function(){if(!e)return n.construct()}).then(function(){r()},function(t){o(t)})})},yn.prototype.meta=function(t){void 0===t&&(t=!1);var e=this;if(t||null===e.$meta){var n=e.$store.$setting,r=[n.host,'api',e.$store.$mapping[e.$fontName],'data','v4'].join('/');return axios.get(r,{timeout:parseInt(n.metaTimeout)}).then(function(t){if(!t.data||!t.data.tag)throw new Error('2-2');e.$meta=t.data.tag,e.$cluster=t.data.cluster},function(t){throw new Error('2-1')})}return new Promise(function(t){t(e.$meta)})},yn.prototype.layout=function(t){void 0===t&&(t=!1);var e=this,n=e.$store.$setting;if((t||null===e.$addMeta)&&n.layout){var r=[n.host,'api',e.$store.$mapping[e.$fontName],'meta','v1'].join('/');return axios.get(r,{timeout:parseInt(n.metaTimeout)}).then(function(t){if(!t.data)throw new Error('5-2');if('GSUB_BIN'in t.data&&n.layout){var r=new Uint8Array(l(t.data.GSUB_BIN)),o=new Xe;o.D({data:r,offset:0,memory:!0}),e.$GSUBCache=o}e.$addMeta=t.data},function(t){throw new Error('5-1')})}return new Promise(function(t){t(e.$meta)})},yn.prototype.code=function(t){var e=this,n=this.$store.$setting,r=t.collectCodeMessage(this.$cmap),o=L({payload:JSON.stringify(r)}),s=[n.host,'api',e.$store.$mapping[e.$fontName],'code','v2'].join('/');return axios.post(s,o,{timeout:parseInt(n.codeTimeout),params:{user_key:n.user,url:e.$url}}).then(function(n){e.$cmap=t.collectCodeAssign(n.data)},function(){throw new Error('3-1')})},yn.prototype.glyf=function(t){var e=this,n=this.$store.$setting,r=t.collectGlyphMessage(this),o=L({payload:JSON.stringify({GID:r})}),s=[n.host,'api',e.$store.$mapping[e.$fontName],'glyf','v1'].join('/');return axios.post(s,o,{timeout:parseInt(n.glyfTimeout),params:{user_key:n.user,url:e.$url}}).then(function(t){if(!t.data.GID)throw new Error('4-2');e.$GID=T(e.$GID,t.data.GID)},function(){throw new Error('4-1')})},yn.prototype.construct=function(){var t=this,e=t.$store.$setting,n=null;if(!e.layout){n={O:{},T:{}},n.O[0]=n.T[0]=0;var r=1;for(var o in t.$GID){var s=parseInt(o,10);0!==s&&(n.T[r]=s,n.O[s]=r,r+=1)}t.$meta.R_NUM_GLYPHS=r,t.$meta.OPTIMIZE=!0}var a=Y.TTF.prototype.factory(t.$meta,t.$cluster,t.$cmap,t.$GID,n);t.$blob=Y.ToBlob(a),V(window.URL.createObjectURL(t.$blob),t.$fontName,'URL',e.nofliker?e.flikerTime:null)};var mn=function(){this.$request=null,this.$mapping=null,this.$fonts={},this.setting(!0)};mn.prototype.mapping=function(t){var e=this;void 0===t&&(t=!1);var n=this.$setting;return new Promise(function(r,o){t||null===e.$mapping?axios.get([n.host,'api','list','v3'].join('/'),{params:{user_key:n.user,url:window.location.href},timeout:parseInt(n.listTimeout)}).then(function(t){201===t.status&&S(n.user),e.$mapping=t.data,r(t.data)},function(t){o('1-1')}):(console.log('not request list'),r(e.$mapping))})},mn.prototype.setting=function(t){if(void 0===t&&(t=!1),t){var n={user:'',manual:!1,emulation:!1,layout:!1,input:!1,cache:!1,eventIntervalTime:200,listTimeout:1e3,metaTimeout:6e4,codeTimeout:6e4,glyfTimeout:6e4,host:'http://localhost:9000',nofliker:!1,flikerTime:50},r='rt',o=v(r);n.host=o.src.split('/').slice(0,3).join('/');var s=C(o.src,r),a=C(window.location.href,r);this.$setting=e(T(n,o.params,s,a))}return this.$setting},mn.prototype.collect=function(t){var e=[];for(var n in this.$request.children){var r=this.$request.children[n];r.mergeFlag&&(r.mergeFlag=!1,n in this.$mapping&&(n in this.$fonts||(this.$fonts[n]=new yn(n,this)),e.push(this.$fonts[n].collect(r,t))))}return Promise.all(e)},mn.prototype.merge=function(t){return null===this.$request&&(this.$request=new In),this.$request.merge(t)},mn.prototype.cache=function(){var t={},e=this.$fonts;for(var n in e)t[n]=e[n].$blob;return t};var _n=function(){var t=this;this._evtag='data-rt-event',this.$store=new mn,this.$eventFlag=!1,this.$eventTask=[],this.$eventTimer=null,this.catchA=null,this.$catch=function(e){console.log('Error Code',e),t.$catchA&&t.$catchA()},this.$finally=function(){},this.$mutationHandle=new MutationObserver(function(e){e.forEach(function(e){var n=null;if('characterData'===e.type)n=e.target.parentNode;else if('childList'===e.type){n=e.target;var r=I('input',n);if(r)for(var o=0;o<r.length;o++)A(r[o],t._evtag)||(R(r[o],t._evtag,!0),E(r[o],'keyup',t.$keyup),E(r[o],'compositionend',t.$keyup));if(r=I('textarea',n))for(var o=0;o<r.length;o++)A(r[o],t._evtag)||(R(r[o],t._evtag,!0),E(r[o],'keyup',t.$keyup),E(r[o],'compositionend',t.$keyup))}else'attributes'===e.type&&(n=e.target);null!==n&&t.$eventTask.indexOf(n)===-1&&t.$eventTask.push(n)})}),this.$keyup=function(e){t.$eventTask.push(e.target)}};_n.prototype.list=function(t){return void 0===t&&(t=!1),this.$store.mapping(t)},_n.prototype.options=function(t){return void 0===t&&(t=!1),this.$store.setting(t)},_n.prototype.observe=function(){var e=this,n=function(){e.$eventFlag===!1&&0!==e.$eventTask.length&&e.$delegate(),e.$eventTimer=window.setTimeout(n,e.$store.setting().eventIntervalTime)};if(this.$store.setting().input){var r=I('input');for(var o in r){var s=r[o];r[o].addEventListener&&!t(r,o)&&(R(s,this._evtag,!0),E(s,'keyup',e.$keyup),E(s,'compositionend',e.$keyup))}r=I('textarea');for(var o in r)if(r[o].addEventListener&&!t(r,o)){var s=r[o];R(s,this._evtag,!0),E(s,'keyup',e.$keyup),E(s,'compositionend',e.$keyup)}}e.$mutationHandle.observe(document.body,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.$eventTimer=window.setTimeout(n,e.$store.setting().eventIntervalTime)},_n.prototype.$delegate=function(t,e){var n=this;(new Date).getTime();this.$eventFlag=!0;var r=new In;r.sweep(n.$eventTask,Object.keys(n.$store.$mapping)),this.$eventTask=[];var o=n.$store.merge(r);o?n.$store.collect(e).then(function(){n.$eventFlag=!1,t&&!e&&z(function(e){var r={};r[t]=n.$store.cache(),g(e,r,function(){})}),n.$finally()},function(t){n.$catch(t),n.$finally()}):n.$eventFlag=!1},_n.prototype.start=function(t,e){var n=this,r=n.options();if('function'==typeof t&&(n.$catchA=t),'function'==typeof e&&(n.$finally=e),r.cache){for(var o=document.body.innerHTML,s='',a=document.styleSheets,i=a.length,u=0;u<i;u++){var f=a[u].cssRules,h=a[u].ownerNode.getAttribute('data-rt-cache');if(h)for(var l=f.length,c=0;c<l;c++)s+=f[c].cssText}var p=md5(o+s);z(function(t){d(t,[p],function(t){var e=!1;for(var o in t)for(var s in t[o])e=!0,V(window.URL.createObjectURL(t[o][s]),s,'URL',r.nofliker?parseInt(r.flikerTime):null);n._start(p,e)})})}else n._start()},_n.prototype._start=function(t,e){var n=this;'RTList'in window&&(n.$store.$mapping=RTList),Promise.all([X,n.list()]).then(function(){n.$eventTask.indexOf(window.document.body)===-1&&(n.$eventTask.push(window.document.body),n.$delegate(t,e)),n.observe()},function(t){n.$catch(t),n.$finally()})},_n.prototype.release=function(){this.$mutationHandle.disconnect(),window.clearInterval(this.$eventTimer);var e=I('input');for(var n in e){var r=e[n];t(e,n)||(F(r,this._evtag),k(r,'keyup',this.$keyup),k(r,'compositionend',this.$keyup))}e=I('textarea');for(var n in e){var r=e[n];t(r,n)||(F(r,this._evtag),k(r,'keyup',this.$keyup),k(r,'compositionend',this.$keyup))}},_n.prototype.version=function(){return'1.1.33'},_n.prototype.support=function(){return'support@realtype.co.jp'};var Dn=function(){var t=this;t.features={},t.featuresTextCache={},t.diffCache={},t.diffGID=[],t.cmap={}};Dn.prototype.sweep=function(t,e,n){var r=this,o=t.join(',');o in r.featuresTextCache||(r.featuresTextCache[o]=''),r.featuresTextCache[o]+=e},Dn.prototype.merge=function(t){var e=!1,n=this;for(var r in t.featuresTextCache){var s=c(o(t.featuresTextCache[r]));
if(t.featuresTextCache[r]='',r in n.features){var a=p(n.features[r],s);0!==a.length&&(n.features[r]=n.features[r].concat(a),n.diffCache[r]=a,e=!0)}else n.features[r]=s,n.diffCache[r]=s,e=!0}return e},Dn.prototype.collectCodeMessage=function(e){for(var n=[],r=this,o=['.',' ','€','1','2','3','4','5','6','7','8','9','0',':','•','-','年','月','/','週','第','、'],s=0;s<o.length;s++){var a=o[s];a in r.cmap||n.push(a)}for(var i in r.diffCache)if(!t(r.diffCache,i))for(var u=r.diffCache[i],f=u.length,s=0;s<f;s++){var a=u[s];a in r.cmap||n.push(a)}return r.diffCache={},{unicode:c(n)}},Dn.prototype.collectCodeAssign=function(e){var n=this;if('undefined'==typeof e.unicode)throw new Error('3-2');n.cmap=T(n.cmap,e.unicode);for(var r in e.unicode)t(e.unicode,r)||null!==e.unicode[r]&&n.diffGID.push(e.unicode[r]);return n.cmap},Dn.prototype.collectGlyphMessage=function(e){var n=[0],r=this;if(n=n.concat(r.diffGID),r.diffGID=[],null!==e.$GSUBCache)for(var o in r.features)if(!t(r.features,o)){for(var s=r.features[o],a=[],i=s.length,u=0;u<i;u++){var f=r.cmap[s[u]];null!==f&&void 0!==f&&a.push(f)}var h=o.split(',');i=h.length;for(var l=0;l<i;l++){var c=h[l].match(/['']([a-zA-Z0-9\-]{4,})['']\s?([0-9]*)?/);if(null!==c&&null!==c[1]){var g=c[1],d=void 0===c[2]?null:[parseInt(c[2])],v=e.$GSUBCache.subGID(null,null,g.split('-'),d,a);a=a.concat(v)}}n=n.concat(a)}var C=Object.keys(e.$GID);return p(C,n)},Dn.prototype.finalize=function(t){};var wn=function(){this.CIDs={},this.requestCache=[],this.requestGIDCache=[],this.privateCPCount=57344,this.elementCache={},this.cmap={}};wn.prototype.sweep=function(t,e,n){var r=n.getAttribute('data-rt-CID'),o=n.getAttribute('data-rt-ignore');if(null===o&&null!==r){var s=parseInt(r);if(isNaN(s))return;this.requestCache.push(s),s in this.elementCache||(this.elementCache[s]=[]),this.elementCache[s].push(n)}},wn.prototype.merge=function(t){var e=!1;this.elementCache=t.elementCache;for(var n=t.requestCache.length,r=0;r<n;r++){var o=t.requestCache[r];o in this.CIDs||(this.requestCache.push(o),e=!0)}return t.requestCache=[],e},wn.prototype.collectCodeMessage=function(t){var e={};return this.requestCache.length>0&&(e.CID=c(this.requestCache),this.requestCache=[]),e},wn.prototype.collectCodeAssign=function(e){if('undefined'==typeof e.CID)throw new Error('3-2');for(var n in e.CID)if(!t(e.CID,n))if(null!==e.CID[n]){var r=String.fromCodePoint(this.privateCPCount++);this.CIDs[n]=r;var o=e.CID[n];this.requestGIDCache.push(o),this.cmap[r]=o}else this.CIDs[n]=null;return this.cmap},wn.prototype.collectGlyphMessage=function(t){for(var e=[],n=this.requestGIDCache.length,r=0;r<n;r++){var o=this.requestGIDCache[r];o in t.$GID||e.push(o)}return this.requestGIDCache=[],e},wn.prototype.finalize=function(e){for(var n in this.elementCache)if(!t(this.elementCache,n))for(var r=this.elementCache[n],o=this.CIDs[n],s=r.length,a=0;a<s;a++){var i=r[a];null!==o&&(i.innerHTML=o),i.setAttribute('data-rt-ignore','true')}this.elementCache={}};var bn=function(){this.names={},this.requestCache=[],this.requestGIDCache=[],this.privateCPCount=58344,this.elementCache={},this.cmap={}};bn.prototype.sweep=function(t,e,n){var r=n.getAttribute('data-rt-name'),o=n.getAttribute('data-rt-ignore');if(null===o&&null!==r){var s=r;if('string'!=typeof s)return;this.requestCache.push(s),s in this.elementCache||(this.elementCache[s]=[]),this.elementCache[s].push(n)}},bn.prototype.merge=function(t){var e=!1;this.elementCache=t.elementCache;for(var n=t.requestCache.length,r=0;r<n;r++){var o=t.requestCache[r];o in this.names||(this.requestCache.push(o),e=!0)}return t.requestCache=[],e},bn.prototype.collectCodeMessage=function(t){var e={};return this.requestCache.length>0&&(e.names=c(this.requestCache),this.requestCache=[]),e},bn.prototype.collectCodeAssign=function(e){if('undefined'==typeof e.names)throw new Error('3-2');for(var n in e.names)if(!t(e.names,n))if(null!==e.names[n]){var r=String.fromCodePoint(this.privateCPCount++);this.names[n]=r;var o=e.names[n];this.requestGIDCache.push(o),this.cmap[r]=o}else this.names[n]=null;return this.cmap},bn.prototype.collectGlyphMessage=function(t){for(var e=[],n=this.requestGIDCache.length,r=0;r<n;r++){var o=this.requestGIDCache[r];o in t.$GID||e.push(o)}return this.requestGIDCache=[],e},bn.prototype.finalize=function(e){for(var n in this.elementCache)if(!t(this.elementCache,n))for(var r=this.elementCache[n],o=this.names[n],s=r.length,a=0;a<s;a++){var i=r[a];null!==o&&(i.innerHTML=o),i.setAttribute('data-rt-ignore','true')}this.elementCache={}};var Sn=function(){var t=this;t.GID={},t.requestCache=[],t.requestGIDCache=[],t.privateCPCount=59344,t.elementCache={},t.cmap={}};Sn.prototype.sweep=function(t,e,n){var r=n.getAttribute('data-rt-gid'),o=n.getAttribute('data-rt-ignore');if(null===o&&null!==r){var s=parseInt(r);if(isNaN(s))return;this.requestCache.push(s),s in this.elementCache||(this.elementCache[s]=[]),this.elementCache[s].push(n)}},Sn.prototype.merge=function(t){var e=!1;this.elementCache=t.elementCache;for(var n=t.requestCache.length,r=0;r<n;r++){var o=t.requestCache[r];o in this.GID||(this.requestCache.push(o),e=!0)}return t.requestCache=[],e},Sn.prototype.collectCodeMessage=function(t){var e={};return this.requestCache.length>0&&(e.GID=c(this.requestCache),this.requestCache=[]),e},Sn.prototype.collectCodeAssign=function(e){if('undefined'==typeof e.GID)throw new Error('3-2');for(var n in e.GID)if(!t(e.GID,n))if(null!==e.GID[n]){var r=String.fromCodePoint(this.privateCPCount++);this.GID[n]=r;var o=e.GID[n];this.requestGIDCache.push(o),this.cmap[r]=o}else this.GID[n]=null;return this.cmap},Sn.prototype.collectGlyphMessage=function(t){for(var e=[],n=this.requestGIDCache.length,r=0;r<n;r++){var o=this.requestGIDCache[r];o in t.$GID||e.push(o)}return this.requestGIDCache=[],e},Sn.prototype.finalize=function(e){for(var n in this.elementCache)if(!t(this.elementCache,n))for(var r=this.elementCache[n],o=this.GID[n],s=r.length,a=0;a<s;a++){var i=r[a];null!==o&&(i.innerHTML=o),i.setAttribute('data-rt-ignore','true')}this.elementCache={}};var Tn=function(){this.plugins=[new Dn,new wn,new bn,new Sn],this.mergeFlag=!1};Tn.prototype.sweep=function(t,e,n){for(var r=this.plugins.length,o=0;o<r;o++)this.plugins[o].sweep(t,e,n)},Tn.prototype.merge=function(t){for(var e=!1,n=t.plugins.length,r=0;r<n;r++)e=this.plugins[r].merge(t.plugins[r])||e;return this.mergeFlag=e,e},Tn.prototype.collectCodeMessage=function(t){for(var e={},n=this.plugins.length,r=0;r<n;r++)e=T(e,this.plugins[r].collectCodeMessage(t));return e},Tn.prototype.collectCodeAssign=function(t){for(var e={},n=this.plugins.length,r=0;r<n;r++)e=T(e,this.plugins[r].collectCodeAssign(t));return e},Tn.prototype.collectGlyphMessage=function(t){for(var e=[],n=this.plugins.length,r=0;r<n;r++)e=e.concat(this.plugins[r].collectGlyphMessage(t));return c(e)},Tn.prototype.finalize=function(t){for(var e=this.plugins.length,n=0;n<e;n++)this.plugins[n].finalize(t)};var In=function(){this.children={}};In.prototype.sweep=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=null);for(var n=t.length,r=0;r<n;r++){var o=t[r];null!==o&&this.sweepR(o,e)}},In.prototype.get=function(t){var e;return t in this.children?e=this.children[t]:(e=new Tn,this.children[t]=e),e},In.prototype.sweepR=function(t,e){if(void 0===t&&(t=window.document.body),void 0===e&&(e=null),'true'!==t.getAttribute('data-rt-ignore')){var n,r=f(t),o=h(t);n=null!==e?K(e,o.fonts):o.fonts;for(var s=n.length,a=0;a<s;a++){var i=n[a];this.get(i).sweep(o.props,r.selfText,t)}for(var s=r.elementNodes.length,a=0;a<s;a+=1){var u=r.elementNodes[a];this.sweepR(u,e)}}},In.prototype.merge=function(e){var n=!1;for(var r in e.children)t(e.children,r)||(r in this.children||(this.children[r]=new Tn),n=this.children[r].merge(e.children[r])||n);return n};var Rn=new _n;return Rn.$store.setting().manual||Rn.start(),Rn}();
